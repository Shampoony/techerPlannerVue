import{r as u,s as $,aH as se,o,i as S,w as h,e,g as L,b as Z,c,F as M,y as P,f as y,aI as le,j as x,T,x as W,I as G,J as O,h as B,n as I,z as q,aJ as oe,aK as ne,av as ae,k as E,aL as ue,ay as de}from"./index-BJw209aN.js";import{v as N,u as ie}from"./studentsStore-Cr0OlyVr.js";import{_ as re,b as H}from"./v-styled-select-BT55oGcx.js";const Q="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%2010.8333V15.8333C15%2016.2754%2014.8244%2016.6993%2014.5118%2017.0118C14.1993%2017.3244%2013.7754%2017.5%2013.3333%2017.5H4.16667C3.72464%2017.5%203.30072%2017.3244%202.98816%2017.0118C2.67559%2016.6993%202.5%2016.2754%202.5%2015.8333V6.66667C2.5%206.22464%202.67559%205.80072%202.98816%205.48816C3.30072%205.17559%203.72464%205%204.16667%205H9.16667M12.5%202.5H17.5M17.5%202.5V7.5M17.5%202.5L8.33333%2011.6667'%20stroke='%23717680'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ce="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.5%2017.5L13.875%2013.875M15.8333%209.16667C15.8333%2012.8486%2012.8486%2015.8333%209.16667%2015.8333C5.48477%2015.8333%202.5%2012.8486%202.5%209.16667C2.5%205.48477%205.48477%202.5%209.16667%202.5C12.8486%202.5%2015.8333%205.48477%2015.8333%209.16667Z'%20stroke='%23717680'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",me="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_9311_3631)'%3e%3cpath%20d='M14.1668%2017.5V15.8333C14.1668%2014.9493%2013.8156%2014.1014%2013.1905%2013.4763C12.5654%2012.8512%2011.7176%2012.5%2010.8335%2012.5H4.16683C3.28277%2012.5%202.43493%2012.8512%201.80981%2013.4763C1.18469%2014.1014%200.833496%2014.9493%200.833496%2015.8333V17.5M19.1668%2017.5V15.8333C19.1663%2015.0948%2018.9205%2014.3773%2018.468%2013.7936C18.0155%2013.2099%2017.3819%2012.793%2016.6668%2012.6083M13.3335%202.60833C14.0505%202.79192%2014.686%203.20892%2015.1399%203.79359C15.5937%204.37827%2015.84%205.09736%2015.84%205.8375C15.84%206.57764%2015.5937%207.29673%2015.1399%207.88141C14.686%208.46608%2014.0505%208.88308%2013.3335%209.06667M10.8335%205.83333C10.8335%207.67428%209.34111%209.16667%207.50016%209.16667C5.65921%209.16667%204.16683%207.67428%204.16683%205.83333C4.16683%203.99238%205.65921%202.5%207.50016%202.5C9.34111%202.5%2010.8335%203.99238%2010.8335%205.83333Z'%20stroke='white'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_9311_3631'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ve="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_9241_10005)'%3e%3cpath%20d='M13.3333%2013.3332L9.99997%209.9999M9.99997%209.9999L6.66663%2013.3332M9.99997%209.9999V17.4999M16.9916%2015.3249C17.8044%2014.8818%2018.4465%2014.1806%2018.8165%2013.3321C19.1866%2012.4835%2019.2635%2011.5359%2019.0351%2010.6388C18.8068%209.7417%2018.2862%208.94616%2017.5555%208.37778C16.8248%207.80939%2015.9257%207.50052%2015%207.4999H13.95C13.6977%206.52427%2013.2276%205.61852%2012.5749%204.85073C11.9222%204.08295%2011.104%203.47311%2010.1817%203.06708C9.25943%202.66104%208.25709%202.46937%207.25006%202.50647C6.24304%202.54358%205.25752%202.80849%204.36761%203.28129C3.47771%203.7541%202.70656%204.42249%202.11215%205.23622C1.51774%206.04996%201.11554%206.98785%200.935783%207.9794C0.756025%208.97095%200.803388%209.99035%201.07431%2010.961C1.34523%2011.9316%201.83267%2012.8281%202.49997%2013.5832'%20stroke='%23545F72'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_9241_10005'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",pe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_9241_10005)'%3e%3cpath%20d='M13.3333%2013.3332L9.99997%209.9999M9.99997%209.9999L6.66663%2013.3332M9.99997%209.9999V17.4999M16.9916%2015.3249C17.8044%2014.8818%2018.4465%2014.1806%2018.8165%2013.3321C19.1866%2012.4835%2019.2635%2011.5359%2019.0351%2010.6388C18.8068%209.7417%2018.2862%208.94616%2017.5555%208.37778C16.8248%207.80939%2015.9257%207.50052%2015%207.4999H13.95C13.6977%206.52427%2013.2276%205.61852%2012.5749%204.85073C11.9222%204.08295%2011.104%203.47311%2010.1817%203.06708C9.25943%202.66104%208.25709%202.46937%207.25006%202.50647C6.24304%202.54358%205.25752%202.80849%204.36761%203.28129C3.47771%203.7541%202.70656%204.42249%202.11215%205.23622C1.51774%206.04996%201.11554%206.98785%200.935783%207.9794C0.756025%208.97095%200.803388%209.99035%201.07431%2010.961C1.34523%2011.9316%201.83267%2012.8281%202.49997%2013.5832'%20stroke='%23FF3A3A'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_9241_10005'%3e%3crect%20width='20'%20height='20'%20fill='%23FF3A3A'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",_e={class:"v-delete-modal"},ge={class:"modal-title"},X={__name:"v-delete-modal",props:{group:Object,student:Object,student_amount:Number,group_amount:Number},setup(C){const l=C,m=u(null),g=u("Вы уверены, что хотите удалить"),d=$(()=>l.student_amount||l.group_amount?"singular":"plural");se(()=>[l.student_amount,l.group_amount,l.type],()=>{console.log("Props changed:",l.type,l.student_amount,l.group_amount)},{immediate:!0});const f=$(()=>{let n="",s=!1;return l.student&&d.value==="singular"&&(n+=`ученика (${l.student.name})?`,s=!0),l.student&&d.value==="plural"&&(n+=`выбранных учеников (${l.student_amount})?`,s=!0),l.group&&d.value==="singular"&&(s?(n=n.slice(0,-1),n+=` и группу (${l.group.name})?`):(n+=`группу (${l.group.name})?`,s=!0)),l.group&&d.value==="plural"&&(s?(n=n.slice(0,-1),n+=` и группы (${l.group_amount})?`):n+=`группы (${l.group_amount})?`),g.value+" "+n}),i=()=>{m.value.submitForm()};return(n,s)=>(o(),S(N,{ref_key:"customModal",ref:m},{modal:h(()=>[e("div",_e,[e("h1",ge,L(f.value),1),s[0]||(s[0]=e("div",{class:"cpation"},"Информация о учениках будет удалена безвозратно.",-1))])]),button:h(()=>[e("button",{class:"custom-btn red",onClick:i},"Удалить")]),_:1},512))}},fe={class:"v-students-cards"},be={class:"v-students-cards__list students-list"},ke={__name:"v-students-cards",props:{items:{type:Array,default:()=>[]},type:String},emits:["student-selected"],setup(C,{expose:l,emit:m}){const g=m,d=C,f=u({deleteModal:!1}),i=u(null),n=u(!1),s=u({}),p=a=>{f.value[a]=!f.value[a],console.log(f.value)},k=(a,w)=>{s.value[a]=w;const V=Object.values(s.value).some(j=>j);console.log(s.value),g("student-selected",V,s.value)},_=a=>{console.log("Редактировать студента:",a)},F=a=>d.type==="group"?[{title:"Количество учеников",value:d.items[a].students_count},{title:"Ставка",value:d.items[a].rate},{title:"Баланс",value:d.items[a].balance},{title:"Статус ДЗ",value:d.items[a].homework},{title:"Комментарий",value:d.items[a].comment}]:[],r=a=>{p("deleteModal"),console.log("Удалить студента:",s)};return l({selectAllStudents:a=>{for(const w in s.value)s.value[w]=a;n.value=!n.value,i.value.forEach(w=>{w.selectStudent(n.value)})},handleDeleteStudent:r,selectedStudents:s}),Z(()=>{d.items.forEach(a=>{s.value[a.id]=!1})}),(a,w)=>(o(),c(M,null,[e("div",fe,[e("ul",be,[(o(!0),c(M,null,P(C.items,(V,j)=>(o(),c("li",{class:"v-students-cards__list-item",key:V.id},[y(le,{ref_for:!0,ref_key:"studentCardsRef",ref:i,student:V,"info-items":F(j),onSelected:D=>k(V.id,D),onEdit:_,onDelete:r},null,8,["student","info-items","onSelected"])]))),128))])]),y(T,{name:"fade"},{default:h(()=>[f.value.deleteModal?(o(),S(X,{key:0,onClose:w[0]||(w[0]=()=>p("deleteModal"))})):x("",!0)]),_:1})],64))}},ye="data:image/svg+xml,%3csvg%20width='17'%20height='16'%20viewBox='0%200%2017%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.79978%203.3335V12.6668M8.79978%2012.6668L13.4665%208.00016M8.79978%2012.6668L4.13312%208.00016'%20stroke='%23545F72'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",he="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='10'%20cy='10'%20r='8.75'%20fill='url(%23paint0_linear_9243_6283)'/%3e%3cpath%20d='M14.3666%206.38049C14.4445%205.87707%2013.9659%205.47972%2013.5183%205.67625L4.60301%209.59053C4.28202%209.73146%204.3055%2010.2177%204.63842%2010.3237L6.47697%2010.9092C6.82786%2011.0209%207.20783%2010.9631%207.51424%2010.7514L11.6594%207.88767C11.7844%207.80131%2011.9206%207.97904%2011.8138%208.08914L8.83007%2011.1654C8.54063%2011.4638%208.59808%2011.9695%208.94623%2012.1878L12.2868%2014.2827C12.6615%2014.5176%2013.1436%2014.2816%2013.2136%2013.8288L14.3666%206.38049Z'%20fill='white'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_9243_6283'%20x1='10'%20y1='1.25'%20x2='10'%20y2='18.75'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2337BBFE'/%3e%3cstop%20offset='1'%20stop-color='%23007DBB'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Ce={class:"v-students-table"},we={class:"v-students-table__head"},xe={class:"v-students-table__head-item"},Me={key:0,class:"styled-checkbox"},Se={key:1,src:ye,alt:""},$e={class:"v-students-table__body"},Ve={class:"styled-checkbox"},Ae=["id","onUpdate:modelValue","onChange"],Le=["for"],Fe=["href","onClick"],je={key:2,class:"homework-status overdue"},Be={__name:"v-students-table",props:{items:Array,type:String},emits:["all-selected"],setup(C,{emit:l}){const m=l,g=u(!1),d=u(!1),f=C,i=u({}),n=$(()=>f.type==="students"?[{key:"name",label:"Имя",sortable:!0},{key:"contact",label:"Способ связи",sortable:!1},{key:"rate",label:"Ставка",sortable:!0},{key:"balance",label:"Средств на счёте",sortable:!0},{key:"homework",label:"Дз",sortable:!1},{key:"comment",label:"Комментарий",sortable:!1,wrap:!0}]:f.type==="group"?[{key:"name",label:"Название",sortable:!0},{key:"students_count",label:"Количество учеников",sortable:!0},{key:"rate",label:"Ставка",sortable:!0},{key:"balance",label:"Баланс",sortable:!0},{key:"homework",label:"Дз",sortable:!1},{key:"comment",label:"Комментарий",sortable:!1,wrap:!0}]:[]),s=k=>{if(k==="all")for(const _ in i.value)i.value[_]=!g.value;else i[k]?i[k]=!i[k]:i[k]=!0;d.value=Object.values(i.value).some(_=>_),m("all-selected",d.value)},p=k=>{window.location.href=`tel:${k}`};return Z(()=>{console.log(f.items);for(const k of f.items)i.value[k.id]=!1}),(k,_)=>{const F=W("router-link");return o(),c("table",Ce,[e("thead",we,[e("tr",null,[(o(!0),c(M,null,P(n.value,r=>(o(),c("th",{key:r.key},[e("div",xe,[r.key==="name"||r.key==="title"?(o(),c("div",Me,[G(e("input",{type:"checkbox",id:"all-field","onUpdate:modelValue":_[0]||(_[0]=b=>g.value=b),onInput:_[1]||(_[1]=()=>s("all"))},null,544),[[O,g.value]]),_[2]||(_[2]=e("label",{class:"white-bg",for:"all-field"},null,-1))])):x("",!0),B(" "+L(r.label)+" ",1),r.sortable?(o(),c("img",Se)):x("",!0)])]))),128)),_[3]||(_[3]=e("th",null,null,-1))])]),e("tbody",$e,[(o(!0),c(M,null,P(C.items,r=>(o(),c("tr",{class:"v-students-table__body-row",key:r.id},[(o(!0),c(M,null,P(n.value,b=>(o(),c("td",{key:b.key},[y(F,{to:{name:"student",params:{id:r.id}}},{default:h(()=>[e("div",{class:I(["v-students-table__body-item",{wrap:b.key==="comment"}])},[b.key==="name"||b.key==="title"?(o(),c(M,{key:0},[e("div",Ve,[G(e("input",{type:"checkbox",id:b.key+"-"+r.id,"onUpdate:modelValue":a=>i.value[r.id]=a,onChange:()=>s(r.id)},null,40,Ae),[[O,i.value[r.id]]]),e("label",{for:b.key+"-"+r.id},null,8,Le)]),B(" "+L(r[b.key]),1)],64)):b.key==="contact"?(o(),c(M,{key:1},[_[4]||(_[4]=e("img",{src:he,alt:""},null,-1)),e("a",{href:"tel:"+r[b.key],class:"contact-link",onClick:q(a=>p(r[b.key]),["stop"]),target:"_blank"},L(r[b.key]),9,Fe)],64)):b.key==="homework"?(o(),c("div",je,[_[5]||(_[5]=e("span",null,null,-1)),B(L(r[b.key]),1)])):(o(),c(M,{key:3},[B(L(r[b.key]),1)],64))],2)]),_:2},1032,["to"])]))),128)),_[6]||(_[6]=e("td",null,[e("div",{class:"v-students-table__body-item v-students-table__body-buttons"},[e("img",{src:oe,alt:"Удалить"}),e("img",{src:ne,alt:"Редактировать"})])],-1))]))),128))])])}}},Ie={class:"v-group-modal"},Te={class:"modal-col mb-5"},Pe={key:0,class:"error-text"},Ge={class:"v-group-modal__list"},De={class:"styled-checkbox"},Ue=["onUpdate:modelValue","id"],Ee=["for"],He=["for"],Oe={__name:"v-group-modal",props:{students:{type:Array,required:!0}},setup(C){const l=C,m=u({group_name:""}),g=u({}),d=u(!1),f=$(()=>d.value&&!m.value.group_name),i=()=>{if(d.value=!0,!m.value.group_name)return;const n=Object.keys(g.value).filter(p=>g.value[p]),s={name:m.value.group_name,students:n};console.log("Создание группы:",s)};return Z(()=>{l.students.forEach(n=>{g.value[n.id]=!0})}),(n,s)=>(o(),S(N,{onSubmit:i},{modal:h(()=>[e("div",Ie,[s[2]||(s[2]=e("h2",{class:"modal-title"},"Создание группы",-1)),e("form",{onSubmit:q(i,["prevent"])},[e("div",Te,[s[1]||(s[1]=e("span",{class:"modal-field-subtitle"},"Название группы",-1)),G(e("input",{type:"text",class:I(["custom-input",{error:f.value}]),placeholder:"Название группы","onUpdate:modelValue":s[0]||(s[0]=p=>m.value.group_name=p)},null,2),[[ae,m.value.group_name,void 0,{trim:!0}]]),f.value?(o(),c("span",Pe," Название группы обязательно ")):x("",!0)]),e("ul",Ge,[(o(!0),c(M,null,P(C.students,p=>(o(),c("li",{class:"v-group-modal__list-item",key:p.id},[e("div",De,[G(e("input",{type:"checkbox","onUpdate:modelValue":k=>g.value[p.id]=k,id:"student-"+p.id},null,8,Ue),[[O,g.value[p.id]]]),e("label",{for:"student-"+p.id},null,8,Ee)]),e("label",{class:"white-bg",for:"student-"+p.id},L(p.name),9,He)]))),128))])],32)])]),_:1}))}},Ze={class:"v-mass-addition"},Ne={__name:"v-mass-addition",setup(C){return(l,m)=>(o(),S(N,null,{modal:h(()=>[e("div",Ze,[m[0]||(m[0]=e("h2",{class:"modal-title"},"Массовое добавление учеников",-1)),m[1]||(m[1]=e("p",{class:"modal-subtitle mt-2"},"Скачайте и загрузите отредактированный шаблон",-1)),y(re,{showDropArea:!0})])]),_:1}))}},ze={class:"v-add-students-modal"},Je={class:"modal-field col"},Re={class:"modal-field__block connection-type"},qe={class:"modal-field col"},Ke={class:"modal-field__block"},Qe={class:"modal-field col"},We={__name:"v-add-students-modal",setup(C){const l=ie(),m=l.typeConnect,g=l.rate,d=l.currency,f=l.timeZone;u({student_name:"",source:""});const i=()=>{};return(n,s)=>(o(),S(N,{onSubmit:i},{modal:h(()=>[e("div",ze,[s[9]||(s[9]=e("h2",{class:"modal-title mb-4"},"Добавление ученика",-1)),e("form",{onSubmit:q(i,["prevent"]),class:"modal-form",method:"POST"},[s[5]||(s[5]=e("div",{class:"modal-field col"},[e("div",{class:"modal-field__title"},"Имя ученика"),e("input",{class:"custom-input",type:"text",placeholder:"Имя ученика"})],-1)),s[6]||(s[6]=e("div",{class:"modal-field col"},[e("div",{class:"modal-field__title"},"Источник"),e("input",{class:"custom-input",type:"text",placeholder:"Источник"})],-1)),s[7]||(s[7]=e("div",{class:"modal-field col"},[e("div",{class:"modal-field__title"},"Цель занятий"),e("input",{class:"custom-input",type:"text",placeholder:"Цель занятий"})],-1)),e("div",Je,[s[1]||(s[1]=e("div",{class:"modal-field__title"},"Способ связи",-1)),e("div",Re,[s[0]||(s[0]=e("input",{class:"custom-input",type:"text",placeholder:"Номер телефона"},null,-1)),y(H,{items:E(m)},null,8,["items"])])]),e("div",qe,[s[3]||(s[3]=e("div",{class:"modal-field__title"},"Ставка",-1)),e("div",Ke,[s[2]||(s[2]=e("input",{class:"custom-input",type:"text",placeholder:"сумма"},null,-1)),y(H,{items:E(g)},null,8,["items"]),y(H,{items:E(d)},null,8,["items"])])]),s[8]||(s[8]=e("div",{class:"modal-field col"},[e("div",{class:"modal-field__title"},"Комиссия, ₽"),e("input",{class:"custom-input",type:"text",placeholder:"10"})],-1)),e("div",Qe,[s[4]||(s[4]=e("div",{class:"modal-field__title"},"Часовой пояс",-1)),y(H,{items:E(f)},null,8,["items"])])],32)])]),_:1}))}},Xe={class:"v-students"},Ye={class:"container"},et={class:"v-students__container layout"},tt={class:"v-students__header"},st={class:"v-students__header-block"},lt={class:"flex gap-4 justify-between"},ot={class:"v-students__header-buttons"},nt={key:0,class:"v-students__menu"},at={class:"v-students__menu-block"},ut={class:"v-students__menu-buttons"},dt={class:"v-students__menu-buttons"},it={class:"v-students__menu-block"},rt={key:1,class:"v-students__menu"},ct={key:0,class:"flex gap-3"},mt={class:"styled-checkbox"},vt={key:2,class:"scrolltable"},ft={__name:"v-students",setup(C){const l=u(!1),m=u(null),g=u(null),d=u([]),f=u([]),i=u(!0),n=u(!1),s=u(!0),p=u(!1),k=u(!1),_=$(()=>s.value?"students":p.value?"groups":null),F=$(()=>d.value.length<1?w.value.filter(t=>t.id===d.value[0]):null),r=u(null),b=u(null),a=u({addStudents:!1,massAddition:!1,groupModal:!1,deleteModal:!1}),w=u([{id:1,name:"Алексей",contact:"8 982 449 66 89",rate:"2000 ₽ / 1 час",balance:"6 000 ₽",homework:"Оценено",comment:"С Алексеем занимаемся до мая"},{id:2,name:"Алексей",contact:"8 982 449 66 89",rate:"2000 ₽ / 1 час",balance:"6 000 ₽",homework:"Оценено",comment:"С Алексеем занимаемся до мая"},{id:3,name:"Алексей",contact:"8 982 449 66 89",rate:"2000 ₽ / 1 час",balance:"6 000 ₽",homework:"Оценено",comment:"С Алексеем занимаемся до мая"}]),V=u([{id:1,name:"ЕГЭ",students_count:10,rate:"2000 ₽ / 1,5 часа",balance:1200,homework:"Ждёт ответа",comment:"Работаем по скидке 20% (для всех)"}]),j=$(()=>p.value?V.value:w.value),D=$(()=>p.value?"group":"students"),Y=()=>{m.value.selectAllStudents(l.value),k.value=l.value},z=v=>{i.value=v==="table",n.value=v==="cards",localStorage.setItem("menu",v)},K=(v,t)=>{k.value=v,d.value=t},J=v=>{s.value=v==="students",p.value=v==="groups",localStorage.setItem("menuType",v)},ee=()=>{console.log(g.value.selectedGroupStudents);const v=i.value?g.value.selectedGroupStudents:m.value.selectedGroupStudents,t=[];for(const U in v)t.push(w.value.filter(R=>R.id==U)[0]);f.value=t,A("groupModal")},A=v=>{console.log(v,a.value[v]),a.value[v]=!a.value[v]},te=()=>{const v=Object.keys(d.value).filter(t=>d.value[t]);r.value=v.length,console.log(F.value),a.value.deleteModal=!0};return Z(()=>{const v=localStorage.getItem("menu"),t=localStorage.getItem("menuType");v&&z(v),t&&J(t)}),(v,t)=>{const U=W("router-link");return o(),c(M,null,[y(de,null,{default:h(()=>[e("section",Xe,[e("div",Ye,[e("div",et,[e("div",tt,[e("div",st,[t[14]||(t[14]=e("div",{class:"flex gap-3 justify-between"},[e("h1",{class:"v-students__title text-title"},"Ученики")],-1)),e("div",lt,[y(U,{to:{name:"archive_students"},class:"v-students__menu-link mob"},{default:h(()=>t[11]||(t[11]=[e("img",{src:Q,alt:""},null,-1),B(" Архив ")])),_:1}),e("div",ot,[e("button",{class:"v-students__header-button custom-btn white",onClick:t[0]||(t[0]=()=>A("massAddition"))},t[12]||(t[12]=[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_9241_10005)"},[e("path",{d:"M13.3333 13.3332L9.99997 9.9999M9.99997 9.9999L6.66663 13.3332M9.99997 9.9999V17.4999M16.9916 15.3249C17.8044 14.8818 18.4465 14.1806 18.8165 13.3321C19.1866 12.4835 19.2635 11.5359 19.0351 10.6388C18.8068 9.7417 18.2862 8.94616 17.5555 8.37778C16.8248 7.80939 15.9257 7.50052 15 7.4999H13.95C13.6977 6.52427 13.2276 5.61852 12.5749 4.85073C11.9222 4.08295 11.104 3.47311 10.1817 3.06708C9.25943 2.66104 8.25709 2.46937 7.25006 2.50647C6.24304 2.54358 5.25752 2.80849 4.36761 3.28129C3.47771 3.7541 2.70656 4.42249 2.11215 5.23622C1.51774 6.04996 1.11554 6.98785 0.935783 7.9794C0.756025 8.97095 0.803388 9.99035 1.07431 10.961C1.34523 11.9316 1.83267 12.8281 2.49997 13.5832",stroke:"#545F72","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_9241_10005"},[e("rect",{width:"20",height:"20",fill:"white"})])])],-1),e("span",null," Массовове добавление учеников ",-1)])),e("button",{class:"v-students__header-button custom-btn blue",onClick:t[1]||(t[1]=()=>A("addStudents"))},t[13]||(t[13]=[e("img",{src:ue,alt:""},null,-1),e("span",null," Ученик ",-1)]))])])])]),k.value?(o(),c("div",rt,[n.value?(o(),c("div",ct,[e("div",mt,[G(e("input",{type:"checkbox",id:"select-all",onChange:Y,"onUpdate:modelValue":t[6]||(t[6]=R=>l.value=R)},null,544),[[O,l.value]]),t[17]||(t[17]=e("label",{class:"white-bg",for:"select-all"},null,-1))]),t[18]||(t[18]=e("label",{for:"select-all",class:"subtitle"},"Выбреть все",-1))])):x("",!0),e("div",{class:"v-students__menu-block"},[e("button",{class:"custom-btn blue",onClick:ee},t[19]||(t[19]=[e("img",{src:me,alt:""},null,-1),e("span",null," Создать группу ",-1)])),t[21]||(t[21]=e("button",{class:"custom-btn white"},[e("img",{src:ve,alt:""}),e("span",null," Архивировать ")],-1)),e("button",{class:"custom-btn white",onClick:te},t[20]||(t[20]=[e("img",{src:pe,alt:""},null,-1),e("span",{class:"text-red"}," Удалить ",-1)]))])])):(o(),c("div",nt,[e("div",at,[e("div",ut,[e("button",{class:I(["v-students__menu-button",{active:i.value}]),onClick:t[2]||(t[2]=()=>z("table"))}," Таблица ",2),e("button",{class:I(["v-students__menu-button",{active:n.value}]),onClick:t[3]||(t[3]=()=>z("cards"))}," Карточки ",2)]),e("div",dt,[e("button",{class:I(["v-students__menu-button",{active:p.value}]),onClick:t[4]||(t[4]=()=>J("groups"))}," Группы ",2),e("button",{class:I(["v-students__menu-button",{active:s.value}]),onClick:t[5]||(t[5]=()=>J("students"))}," Ученики ",2)])]),e("div",it,[y(U,{to:{name:"archive_students"},class:"v-students__menu-link"},{default:h(()=>t[15]||(t[15]=[e("img",{src:Q,alt:""},null,-1),B(" Перейти в архив ")])),_:1}),t[16]||(t[16]=e("div",{class:"v-students__menu-search"},[e("button",{class:"v-students__menu-search-button"},[e("img",{src:ce,alt:""})]),e("input",{type:"text",class:"v-students__menu-search-input",placeholder:"Поиск"})],-1))])])),i.value?(o(),c("div",vt,[y(Be,{onAllSelected:K,ref_key:"studentsTable",ref:g,items:j.value,type:D.value},null,8,["items","type"])])):x("",!0),n.value?(o(),S(ke,{key:3,ref_key:"studentsCards",ref:m,items:j.value,onStudentSelected:K,type:D.value},null,8,["items","type"])):x("",!0)])])])]),_:1}),y(T,{name:"fade"},{default:h(()=>[a.value.addStudents?(o(),S(We,{key:0,onClose:t[7]||(t[7]=()=>A("addStudents"))})):x("",!0)]),_:1}),y(T,{name:"fade"},{default:h(()=>[a.value.massAddition?(o(),S(Ne,{key:0,onClose:t[8]||(t[8]=()=>A("massAddition"))})):x("",!0)]),_:1}),y(T,{name:"fade"},{default:h(()=>[a.value.groupModal?(o(),S(Oe,{key:0,onClose:t[9]||(t[9]=()=>A("groupModal")),students:f.value},null,8,["students"])):x("",!0)]),_:1}),y(T,{name:"fade"},{default:h(()=>[a.value.deleteModal?(o(),S(X,{key:0,onClose:t[10]||(t[10]=()=>A("deleteModal")),type:_.value,student:F.value,student_amount:r.value,group_amount:b.value},null,8,["type","student","student_amount","group_amount"])):x("",!0)]),_:1})],64)}}};export{ft as default};
