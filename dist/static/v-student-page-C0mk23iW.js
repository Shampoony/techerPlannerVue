import{aT as ot,aU as it,aV as et,r as $,y as N,b as T,o as v,c as E,d as t,Q as b,aw as V,e as k,l as h,aQ as q,n as M,w,W as G,T as U,k as P,j as S,f as x,h as I,F as W,q as st,a as z,A as H,U as lt,aW as dt,aX as ut,aY as rt,ap as F,O as ct,R as vt,aZ as mt,C as pt,a_ as _t,z as X}from"./index-W5j5W2gU.js";import{u as nt}from"./studentsStore-DDfW0XhV.js";import{c as Q,a as Y,b as Z,_ as ft}from"./v-homework-CIXUerfb.js";import{_ as ht,a as yt}from"./v-additionaly-task-modal-BfxKSdlR.js";import{c as j,a as J}from"./chartConfig-Dak3ap0G.js";import{C as kt,c as gt,d as wt,P as bt,L as xt,p as $t,a as Ct,b as St,e as K}from"./index-BlS5EZaO.js";import{m as L,c as Et,S as Vt,d as It}from"./swiper-vue-D6417QVi.js";import"./v-files-handler-kiMxu7Ys.js";function Dt(C){let{swiper:s,extendParams:d,on:m,emit:i}=C;d({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),s.navigation={nextEl:null,prevEl:null};function r(l){let e;return l&&typeof l=="string"&&s.isElement&&(e=s.el.querySelector(l)||s.hostEl.querySelector(l),e)?e:(l&&(typeof l=="string"&&(e=[...document.querySelectorAll(l)]),s.params.uniqueNavElements&&typeof l=="string"&&e&&e.length>1&&s.el.querySelectorAll(l).length===1?e=s.el.querySelector(l):e&&e.length===1&&(e=e[0])),l&&!e?l:e)}function _(l,e){const o=s.params.navigation;l=L(l),l.forEach(p=>{p&&(p.classList[e?"add":"remove"](...o.disabledClass.split(" ")),p.tagName==="BUTTON"&&(p.disabled=e),s.params.watchOverflow&&s.enabled&&p.classList[s.isLocked?"add":"remove"](o.lockClass))})}function n(){const{nextEl:l,prevEl:e}=s.navigation;if(s.params.loop){_(e,!1),_(l,!1);return}_(e,s.isBeginning&&!s.params.rewind),_(l,s.isEnd&&!s.params.rewind)}function f(l){l.preventDefault(),!(s.isBeginning&&!s.params.loop&&!s.params.rewind)&&(s.slidePrev(),i("navigationPrev"))}function y(l){l.preventDefault(),!(s.isEnd&&!s.params.loop&&!s.params.rewind)&&(s.slideNext(),i("navigationNext"))}function u(){const l=s.params.navigation;if(s.params.navigation=Et(s,s.originalParams.navigation,s.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(l.nextEl||l.prevEl))return;let e=r(l.nextEl),o=r(l.prevEl);Object.assign(s.navigation,{nextEl:e,prevEl:o}),e=L(e),o=L(o);const p=(g,B)=>{g&&g.addEventListener("click",B==="next"?y:f),!s.enabled&&g&&g.classList.add(...l.lockClass.split(" "))};e.forEach(g=>p(g,"next")),o.forEach(g=>p(g,"prev"))}function D(){let{nextEl:l,prevEl:e}=s.navigation;l=L(l),e=L(e);const o=(p,g)=>{p.removeEventListener("click",g==="next"?y:f),p.classList.remove(...s.params.navigation.disabledClass.split(" "))};l.forEach(p=>o(p,"next")),e.forEach(p=>o(p,"prev"))}m("init",()=>{s.params.navigation.enabled===!1?a():(u(),n())}),m("toEdge fromEdge lock unlock",()=>{n()}),m("destroy",()=>{D()}),m("enable disable",()=>{let{nextEl:l,prevEl:e}=s.navigation;if(l=L(l),e=L(e),s.enabled){n();return}[...l,...e].filter(o=>!!o).forEach(o=>o.classList.add(s.params.navigation.lockClass))}),m("click",(l,e)=>{let{nextEl:o,prevEl:p}=s.navigation;o=L(o),p=L(p);const g=e.target;let B=p.includes(g)||o.includes(g);if(s.isElement&&!B){const A=e.path||e.composedPath&&e.composedPath();A&&(B=A.find(O=>o.includes(O)||p.includes(O)))}if(s.params.navigation.hideOnClick&&!B){if(s.pagination&&s.params.pagination&&s.params.pagination.clickable&&(s.pagination.el===g||s.pagination.el.contains(g)))return;let A;o.length?A=o[0].classList.contains(s.params.navigation.hiddenClass):p.length&&(A=p[0].classList.contains(s.params.navigation.hiddenClass)),i(A===!0?"navigationShow":"navigationHide"),[...o,...p].filter(O=>!!O).forEach(O=>O.classList.toggle(s.params.navigation.hiddenClass))}});const c=()=>{s.el.classList.remove(...s.params.navigation.navigationDisabledClass.split(" ")),u(),n()},a=()=>{s.el.classList.add(...s.params.navigation.navigationDisabledClass.split(" ")),D()};Object.assign(s.navigation,{enable:c,disable:a,update:n,init:u,destroy:D})}const R=ot("currentStudent",{state:()=>({studentId:null,studentAnalytics:null,student:null}),actions:{setStudentId(C){this.studentId=C},async setStudentAnalytics(){this.studentId&&this.studentAnalytics===null&&(this.studentAnalytics=await it(this.studentId),console.log("Делаем запрос",this.studentAnalytics))},async setStudentDetails(){console.log(this.studentId),this.student===null&&this.studentId&&(console.log("В условии"),this.student=await et(this.studentId))}}}),Lt={class:"v-student-details"},Mt={class:"v-student-details__info"},Bt={class:"v-student-details__form"},Ut={class:"v-student-details__info-column"},At={class:"v-student-details__info-field"},Ot={class:"v-student-details__info-field"},Pt={class:"v-student-details__info-field"},Wt={class:"v-student-details__info-field"},Nt={class:"v-student-details__info-field"},Tt={class:"v-student-details__info-column"},jt={class:"v-student-details__info-field"},qt={class:"v-student-details__info-field"},Ht={class:"v-student-details__info-type-connect"},Ft={class:"v-student-details__info-field"},Rt={class:"v-student-details__info-row"},zt={class:"v-student-details__info-field"},Qt={class:"flex justify-end"},Gt={class:"v-student-details__side"},Xt={class:"v-student-details__side-block"},Yt=["value"],Zt={class:"copy-window"},tt={__name:"v-student-details",props:{student:Object},setup(C){const s=nt(),d=$("https://www.primeradress.ru"),m=$(!1),i=s.rate,r=s.currency,_=s.typeConnect,n=C,f=N(()=>u.value&&u.value.time_rate?u.value.time_rate:""),y=$({...n.student,comment:""}),u=$({...n.student,comment:""}),D=N(()=>y.value?Object.keys(y.value).some(l=>y.value[l]!==u.value[l]):!1),c=(l,e)=>{u.value[e]=typeof l=="object"?l.text:l},a=()=>{navigator.clipboard.writeText(d.value).then(()=>{m.value=!0,setTimeout(()=>{m.value=!1},3e3)})};return T(()=>{}),(l,e)=>(v(),E("div",Lt,[t("div",Mt,[e[21]||(e[21]=t("h2",{class:"v-student-details__title text-title"},"Детали об ученике",-1)),t("div",Bt,[t("div",Ut,[t("div",At,[e[11]||(e[11]=t("p",{class:"v-student-details__info-subtitle"},"Имя ученика",-1)),b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[0]||(e[0]=o=>u.value.student_name=o),onInput:c,placeholder:"Имя ученика"},null,544),[[V,u.value.student_name]])]),t("div",Ot,[e[12]||(e[12]=t("p",{class:"v-student-details__info-subtitle"},"Номер телефона",-1)),b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[1]||(e[1]=o=>u.value.phone_number=o),onInput:c,placeholder:"Номер телефона"},null,544),[[V,u.value.phone_number]])]),t("div",Pt,[e[13]||(e[13]=t("p",{class:"v-student-details__info-subtitle"},"Имя родителя",-1)),b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[2]||(e[2]=o=>u.value.parent_name=o),onInput:c,placeholder:"Имя родителя"},null,544),[[V,u.value.parent_name]])]),t("div",Wt,[e[14]||(e[14]=t("p",{class:"v-student-details__info-subtitle"},"Номер родителей",-1)),b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[3]||(e[3]=o=>u.value.parent_phone_number=o),onInput:c,placeholder:"Номер родителей"},null,544),[[V,u.value.parent_phone_number]])]),t("div",Nt,[e[15]||(e[15]=t("p",{class:"v-student-details__info-subtitle"},"Источник",-1)),b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[4]||(e[4]=o=>u.value.source=o),onInput:c,placeholder:"Источник"},null,544),[[V,u.value.source]])])]),t("div",Tt,[t("div",jt,[e[16]||(e[16]=t("p",{class:"v-student-details__info-subtitle"},"Цель занятий",-1)),b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[5]||(e[5]=o=>u.value.goal=o),onInput:c,placeholder:"Цель занятий"},null,544),[[V,u.value.goal]])]),t("div",qt,[e[17]||(e[17]=t("p",{class:"v-student-details__info-subtitle"},"Способ связи",-1)),t("div",Ht,[b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[6]||(e[6]=o=>u.value.communicationMethod=o),onInput:c,placeholder:"Способ связи"},null,544),[[V,u.value.communicationMethod]]),k(q,{items:h(_)},null,8,["items"])]),e[18]||(e[18]=t("p",null,"Контакты ученика указываются с его согласия и видны исключительно преподавателю.",-1))]),t("div",Ft,[e[19]||(e[19]=t("p",{class:"v-student-details__info-subtitle"},"Ставка",-1)),t("div",Rt,[b(t("input",{type:"text",class:"custom-input","onUpdate:modelValue":e[7]||(e[7]=o=>u.value.rate=o),onInput:c,placeholder:"Ставка"},null,544),[[V,u.value.rate]]),k(q,{items:h(i),"default-value":f.value,"onUpdate:modelValue":e[8]||(e[8]=o=>c(o,"time_rate"))},null,8,["items","default-value"]),k(q,{items:h(r),"default-value":u.value.currency,"onUpdate:modelValue":e[9]||(e[9]=o=>c(o,"currency"))},null,8,["items","default-value"])])])])]),t("div",zt,[e[20]||(e[20]=t("p",{class:"v-student-details__info-subtitle"},"Комментарий",-1)),b(t("textarea",{class:"v-student-details__info-text","onUpdate:modelValue":e[10]||(e[10]=o=>u.value.comment=o),onInput:c,placeholder:"Комментарий о ученике (виден только вам)"},null,544),[[V,u.value.comment]])]),t("div",Qt,[t("button",{class:M(["custom-btn blue",{unactive:!D.value}])}," Сохранить изменения ",2)])]),t("div",Gt,[e[24]||(e[24]=t("div",{class:"v-student-details__side-block"},[t("h2",{class:"v-student-details__title text-title"},"Средств на счёте"),t("input",{type:"text",value:"6 000 ₽",class:"custom-input red",readonly:""}),t("p",{class:"caption"},"При ставке 2 000 ₽ хватит на 3 занятия")],-1)),t("div",Xt,[e[22]||(e[22]=t("h2",{class:"v-student-details__title text-title"},"Реферальная ссылка",-1)),t("input",{type:"text",value:d.value,class:"custom-input",readonly:"",onClick:a},null,8,Yt),e[23]||(e[23]=t("p",{class:"caption"}," Ученику необходимо зарегистрироваться по вашей ссылке для синхронизации аккаунтов ",-1)),k(U,{name:"fade"},{default:w(()=>[b(t("div",Zt," Ссылка скопирована в буфер обмена ",512),[[G,m.value]])]),_:1})])])]))}},Jt={class:"v-homework-stat"},Kt={class:"v-homework-stat__block"},te={class:"v-homework-stat__text"},ee={class:"v-homework-stat__text"},at={__name:"v-homework-stat",setup(C){const s=R(),d=N(()=>s.studentAnalytics||{});return T(()=>{s.setStudentAnalytics()}),(m,i)=>(v(),E("div",Jt,[i[1]||(i[1]=t("h2",{class:"v-homework-stat__title text-section-title"},"Статистика домашнего задания",-1)),t("div",Kt,[t("p",te,[P(" Задано "+S(d.value.total_homework_given||0)+"/ "+S(d.value.total_lessons||0)+" или "+S(d.value.homework_given_percentage||0)+"% ",1),i[0]||(i[0]=t("span",null,"(+ 0 доп. ДЗ)",-1))]),t("p",ee," Выполнено "+S(d.value.total_homework_submitted||0)+"/ "+S(d.value.total_homework_assigned||0)+" или "+S(d.value.homework_submitted_percentage||0)+"% ",1)])]))}},se={class:"v-student-homework"},le={class:"v-student-homework__container"},ne={class:"v-student-homework__archive"},ae={class:"v-student-homework__list"},oe={class:"v-student-homework__list-item"},ie={class:"v-student-homework__list-item"},de={__name:"v-student-homework",setup(C){const s=$({pay:!1,result:!1,tasks:!1}),d=m=>{s.value[m]=!s.value[m]};return(m,i)=>(v(),E(W,null,[t("div",se,[t("div",le,[k(Q,{mode:"previous",homeWorkDeadline:new Date,title:"Текущее домашнее задание (занятие 12.03.2025)",subtitle:"Выполнить задания №22, №23, №24 (стр. 100) из учебника, письменно."},null,8,["homeWorkDeadline"]),t("button",{class:"custom-btn white mt-6",onClick:i[0]||(i[0]=()=>d("tasks"))},i[2]||(i[2]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M9.99984 4.16663V15.8333M4.1665 9.99996H15.8332",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),P(" Дополнительное домашнее задание ")])),t("div",ne,[i[3]||(i[3]=t("h2",{class:"text-section-title"},"Архив домашнего задания (12)",-1)),t("ul",ae,[t("li",oe,[k(Q,{mode:"completed",homeWorkDeadline:new Date,mark:5},null,8,["homeWorkDeadline"])]),t("li",ie,[k(Q,{mode:"completed",homeWorkDeadline:new Date,mark:4},null,8,["homeWorkDeadline"])])])])]),k(at)]),k(U,{name:"fade"},{default:w(()=>[s.value.tasks?(v(),x(ht,{key:0,onClose:i[1]||(i[1]=()=>d("tasks"))})):I("",!0)]),_:1})],64))}},ue={class:"v-student-analytics"},re={class:"v-student-analytics__container"},ce={class:"v-student-analytics__prev"},ve={class:"prev-lesson__content"},me={class:"prev-lesson__date"},pe={class:"prev-lesson__info"},_e={class:"prev-lesson__info-row"},fe={class:"prev-lesson__block"},he={class:"theme"},ye={class:"theme__title"},ke={class:"prev-lesson__info-row"},ge={class:"prev-lesson__block"},we={class:"v-student-analytics__charts"},be={class:"v-student-analytics__chart"},xe={class:"v-student-analytics__chart-container"},$e={class:"v-student-analytics__chart"},Ce={class:"v-student-analytics__chart-container"},Se={__name:"v-student-analytics",emits:["toggle-modal"],setup(C,{emit:s}){const d=s,m=[Dt],i=R(),r={slidesPerView:3,spaceBetween:20,navigation:{nextEl:".analytics-swiper-button-next",prevEl:".analytics-swiper-button-prev"},breakpoints:{300:{slidesPerView:1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:20}}},_=st(),n=$([]),f=c=>{d("toggle-modal",c)};$(null);const y=$(null);kt.register(gt,wt,bt,xt,$t,Ct,St);const u=async()=>{const c=await ut(y.value,1,2),a=await rt(y.value,1,2);n.value=[...Array.isArray(c)?c:[],...Array.isArray(a)?a:[]]},D=async()=>{await i.setStudentAnalytics(),await u()};return T(()=>{y.value=_.params.id,D()}),(c,a)=>(v(),E("div",ue,[t("div",re,[t("div",ce,[a[7]||(a[7]=z('<div class="flex justify-between"><h1 class="text-title">Задания</h1><div class="flex gap-3"><img class="rotate-180 day-el analytics-swiper-button-prev" src="'+Y+'" alt=""><img class="rotate-180 night-el analytics-swiper-button-prev" src="'+Z+'" alt=""><img class="day-el analytics-swiper-button-next" src="'+Y+'" alt=""><img class="night-el analytics-swiper-button-next" src="'+Z+'" alt=""></div></div>',1)),n.value?(v(),x(h(It),dt({key:0,class:"v-student-analytics__prev-row"},r,{modules:m}),{default:w(()=>[(v(!0),E(W,null,H(n.value,l=>(v(),x(h(Vt),{class:"v-student-analytics__prev-item prev-lesson",key:l.id},{default:w(()=>{var e;return[t("div",ve,[t("h3",me,S(h(lt)(l.conducted_date)),1),t("div",pe,[t("div",_e,[a[3]||(a[3]=t("h4",{class:"prev-lesson__subtitle"},"Темы",-1)),t("div",fe,[b(t("div",he,[t("span",{class:"theme__title",onClick:a[0]||(a[0]=o=>f("themes"))}," + Добавить тему")],512),[[G,!((e=l==null?void 0:l.themes)!=null&&e.length)]]),(v(!0),E(W,null,H(l.themes,o=>(v(),E("div",{class:"prev-lesson__theme theme",onClick:a[1]||(a[1]=()=>f("themes")),key:o.id},[t("span",ye,S(o.theme),1)]))),128))])]),a[6]||(a[6]=t("div",{class:"prev-lesson__info-row"},[t("h4",{class:"prev-lesson__subtitle red"},"Проблемы"),t("div",{class:"prev-lesson__block prev-lesson__col"},[t("p",{class:"prev-lesson__subtitle"},"Использует калькулятор"),t("p",{class:"prev-lesson__subtitle"}," Не выполнено домашнее задание прошлого занятия "),t("p",{class:"prev-lesson__subtitle"},"Долго решает задачи")])],-1)),t("div",ke,[a[5]||(a[5]=t("h4",{class:"prev-lesson__subtitle"},"ДЗ",-1)),t("div",ge,[t("div",{class:M(["status",{green:typeof l.homework_status=="number",red:l.homework_status==="Не выполнено"}])},[a[4]||(a[4]=t("span",null,null,-1)),P(S(l.homework),1)],2),l.homework_status==="Не добавлено"?(v(),E("div",{key:0,class:"contact-link",onClick:a[2]||(a[2]=()=>f("homeWorkOpModal"))}," ДЗ задано вне платформы? ")):I("",!0)])])])])]}),_:2},1024))),128))]),_:1},16)):I("",!0)]),t("div",we,[t("div",be,[a[9]||(a[9]=t("h2",{class:"v-student-analytics__chart-title text-section-title"}," Прогресс оценок ученика за домашнее задание ",-1)),t("div",xe,[a[8]||(a[8]=z('<div class="v-student-analytics__chart-ticks sticky-ticks"><div class="v-student-analytics__chart-tick">5</div><div class="v-student-analytics__chart-tick">4</div><div class="v-student-analytics__chart-tick">3</div><div class="v-student-analytics__chart-tick">2</div></div>',1)),h(j)?(v(),x(h(K),{key:0,data:h(j),options:h(J)},null,8,["data","options"])):I("",!0)])]),t("div",$e,[a[11]||(a[11]=t("h2",{class:"v-student-analytics__chart-title text-section-title"}," Прогресс оценок ученика за экзамены ",-1)),t("div",Ce,[a[10]||(a[10]=z('<div class="v-student-analytics__chart-ticks sticky-ticks"><div class="v-student-analytics__chart-tick">5</div><div class="v-student-analytics__chart-tick">4</div><div class="v-student-analytics__chart-tick">3</div><div class="v-student-analytics__chart-tick">2</div></div>',1)),h(j)?(v(),x(h(K),{key:0,data:h(j),options:h(J)},null,8,["data","options"])):I("",!0)])])])]),k(at)]))}},Ee={class:"v-pay-modal"},Ve={action:"",class:"modal-form"},Ie={class:"modal-field col"},De={class:"modal-field__title"},Le={__name:"v-pay-modal",emits:["set-payment"],setup(C,{emit:s}){const d=nt(),m=s,i=d.selectedCurrency,r=$({price:""}),_=()=>{const n={amount:r.value.price,discount:0,price:0};m("set-payment",n)};return(n,f)=>(v(),x(F,{onSubmit:_},{modal:w(()=>[t("div",Ee,[f[1]||(f[1]=t("h2",{class:"modal-title"},"Добавление оплаты",-1)),t("form",Ve,[t("div",Ie,[t("h4",De,"Внесенная сумма ("+S(h(i)||"₽")+")",1),b(t("input",{type:"number","onUpdate:modelValue":f[0]||(f[0]=y=>r.value.price=y),class:"custom-input",placeholder:"Сумма"},null,512),[[V,r.value.price]])])])])]),_:1}))}},Me={class:"v-themes-modal"},Be={class:"v-themes-modal__list"},Ue={class:"theme__title"},Ae=["onClick"],Oe={__name:"v-themes-modal",setup(C){const s=$([{id:1,theme:"Тема 1"}]),d=i=>{s.value.push({id:s.value.length+1,theme:i})},m=i=>{s.value=s.value.filter(r=>r.id!==i)};return(i,r)=>(v(),x(F,null,{modal:w(()=>[t("div",Me,[r[1]||(r[1]=t("div",{class:"modal-title"},"Темы",-1)),t("ul",Be,[(v(!0),E(W,null,H(s.value,_=>(v(),E("li",{class:"v-themes-modal__list-item theme",key:_.id},[t("div",Ue,S(_.theme),1),t("div",{class:"theme__close",onClick:()=>m(_.id)},r[0]||(r[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},[t("path",{d:"M9 3L3 9M3 3L9 9",stroke:"#1D4ECC","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,Ae)]))),128))]),k(ft,{onSubmit:d})])]),_:1}))}},Pe={class:"v-homework-op-modal"},We={class:"v-homework-op-modal__row"},Ne={class:"v-homework-op-modal__block"},Te={__name:"v-homework-op-modal",setup(C){return(s,d)=>(v(),x(F,null,{modal:w(()=>[t("div",Pe,[d[2]||(d[2]=t("h2",{class:"modal-title"}," Если ученик выполнил задание, заданное вне платформы, вы можете добавить оценку ",-1)),t("div",We,[t("div",Ne,[d[0]||(d[0]=t("p",{class:"modal-subtitle"},"Оценка",-1)),k(q,{items:[5,4,3,2]})]),d[1]||(d[1]=t("div",{class:"v-homework-op-modal__block"},[t("div",{class:"styled-checkbox"},[t("input",{type:"checkbox",id:"gov-exam"}),t("label",{for:"gov-exam"})]),t("label",{class:"modal-subtitle",for:"gov-exam"},"ОГЭ/ЕГЭ")],-1))])])]),_:1}))}},je={class:"v-add-result-modal"},qe={action:"",class:"modal-form"},He={class:"modal-field col"},Fe=["value"],Re={class:"modal-field col"},ze=["readonly"],Qe={class:"modal-field flex gap-5 items-center"},Ge={class:"modal-field col"},Xe={class:"modal-field flex gap-3 items-center"},Ye={class:"styled-checkbox"},Ze=["checked","disabled"],Je={class:"modal-field row"},Ke={class:"v-add-result-modal__col"},ts=["readonly"],es={class:"v-add-result-modal__col"},ss=["readonly"],ls={__name:"v-add-result-modal",props:{readonly:{type:Boolean,default:!1}},setup(C){const s=R(),d=C,m=N(()=>{var _;return(_=s.student)==null?void 0:_.student_name}),i=d.readonly,r=$({comment:"",work_type:"",date:"",exams:!0});return T(()=>{r.value.date=new Date().toISOString().split("T")[0],s.setStudentDetails()}),(_,n)=>(v(),x(F,null,{modal:w(()=>[t("div",je,[n[13]||(n[13]=t("h2",{class:"modal-title"},"Добавление результата",-1)),t("form",qe,[t("div",He,[n[4]||(n[4]=t("p",{class:"modal-field__title"},"Ученик",-1)),t("input",{type:"text",class:"custom-input student-input",value:m.value,readonly:""},null,8,Fe)]),t("div",Re,[n[5]||(n[5]=t("p",{class:"modal-field__title"},"Тип работы",-1)),b(t("input",{type:"text",class:"custom-input",placeholder:"Тип работы","onUpdate:modelValue":n[0]||(n[0]=f=>r.value.work_type=f),readonly:h(i)},null,8,ze),[[V,r.value.work_type]])]),t("div",Qe,[n[7]||(n[7]=t("p",{class:"modal-field__title"},"Дата",-1)),k(h(ct),{class:"custom-datepicker",modelValue:r.value.date,"onUpdate:modelValue":n[1]||(n[1]=f=>r.value.date=f),locale:"ru-ru","auto-apply":!0,format:h(lt),disabled:h(i)},{"clear-icon":w(({clear:f})=>n[6]||(n[6]=[])),_:1},8,["modelValue","format","disabled"])]),t("div",Ge,[n[8]||(n[8]=t("p",{class:"modal-field__title"},"Комментарий",-1)),k(yt,{modelValue:r.value.comment,"onUpdate:modelValue":n[2]||(n[2]=f=>r.value.comment=f),placeholder:"Ваш комментарий к работе",readonly:h(i)},null,8,["modelValue","readonly"])]),t("div",Xe,[t("div",Ye,[b(t("input",{type:"checkbox","onUpdate:modelValue":n[3]||(n[3]=f=>r.value.exams=f),id:"exams",checked:r.value.exams,disabled:h(i)},null,8,Ze),[[vt,r.value.exams]]),n[9]||(n[9]=t("label",{for:"exams"},null,-1))]),n[10]||(n[10]=t("label",{for:"exams",class:"modal-field__title"},"ОГЭ/ЕГЭ",-1))]),b(t("div",Je,[t("div",Ke,[n[11]||(n[11]=t("p",{class:"modal-field__title"},"Часть 1",-1)),t("input",{type:"number",class:"custom-input",placeholder:"100",readonly:h(i)},null,8,ts)]),t("div",es,[n[12]||(n[12]=t("p",{class:"modal-field__title"},"Часть 2",-1)),t("input",{type:"number",class:"custom-input",placeholder:"100",readonly:h(i)},null,8,ss)])],512),[[G,r.value.exams]])])])]),_:1}))}},ns={class:"v-student-page"},as={class:"container"},os={class:"v-student-page__container layout"},is={class:"route"},ds={class:"v-student-page__menu"},us={class:"v-student-page__menu-top"},rs={class:"text-title"},cs={class:"v-student-page__menu-buttons"},vs={class:"v-student-page__menu-bottom"},ms=["onClick"],bs={__name:"v-student-page",setup(C){const s=R(),d=st(),m=$(localStorage.getItem("activeSec")||"Детали"),i=$(["Детали","Домашнее задание","Аналитика"]),r=N(()=>{switch(m.value){case"Детали":return tt;case"Домашнее задание":return de;case"Аналитика":return Se;default:return tt}}),_=$(),n=$({pay:!1,result:!1,themes:!1,deleteModal:!1,homeWorkOpModal:!1}),f=c=>{m.value=c,localStorage.setItem("activeSec",c)},y=c=>{n.value[c]=!n.value[c]},u=async()=>{const c=d.params.id;_.value=await et(c)},D=async c=>{const a={...c,student_id:_.value.id};await _t(a)};return T(()=>{u(),s.setStudentId(d.params.id)}),(c,a)=>{const l=X("router-link"),e=X("v-delete-modal");return v(),E(W,null,[k(pt,null,{default:w(()=>{var o,p;return[t("div",ns,[t("div",as,[t("div",os,[t("div",is,[k(l,{to:{name:"my_students"}},{default:w(()=>a[7]||(a[7]=[P(" Ученики")])),_:1}),a[8]||(a[8]=t("div",null,"/",-1)),t("div",null,S((o=_.value)==null?void 0:o.student_name),1)]),t("div",ds,[t("div",us,[t("h1",rs,S((p=_.value)==null?void 0:p.student_name),1),t("div",cs,[t("button",{class:"custom-btn white",onClick:a[0]||(a[0]=()=>y("pay"))},a[9]||(a[9]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M9.99984 4.16663V15.8333M4.1665 9.99996H15.8332",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),P(" Оплата ")])),t("button",{class:"custom-btn blue",onClick:a[1]||(a[1]=()=>y("result"))},a[10]||(a[10]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M9.99984 4.16663V15.8333M4.1665 9.99996H15.8332",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),P(" Результат ")]))])]),t("div",vs,[(v(!0),E(W,null,H(i.value,(g,B)=>(v(),E("div",{class:M(["v-student-page__menu-bottom-item styled-nav",{active:g===m.value}]),onClick:()=>f(g),key:B},S(g),11,ms))),128))])]),(v(),x(mt(r.value),{onToggleModal:y,student:_.value},null,40,["student"]))])])])]}),_:1}),k(U,{name:"fade"},{default:w(()=>[n.value.pay?(v(),x(Le,{key:0,class:M({"modal-open":n.value.pay}),onClose:a[2]||(a[2]=()=>y("pay")),onSetPayment:D},null,8,["class"])):I("",!0)]),_:1}),k(U,{name:"fade"},{default:w(()=>[n.value.result?(v(),x(ls,{key:0,class:M({"modal-open":n.value.result}),onClose:a[3]||(a[3]=()=>y("result"))},null,8,["class"])):I("",!0)]),_:1}),k(U,{name:"fade"},{default:w(()=>[n.value.deleteModal?(v(),x(e,{key:0,class:M({"modal-open":n.value.deleteModal}),onClose:a[4]||(a[4]=()=>y("deleteModal"))},null,8,["class"])):I("",!0)]),_:1}),k(U,{name:"fade"},{default:w(()=>[n.value.homeWorkOpModal?(v(),x(Te,{key:0,class:M({"modal-open":n.value.homeWorkOpModal}),onClose:a[5]||(a[5]=()=>y("homeWorkOpModal"))},null,8,["class"])):I("",!0)]),_:1}),k(U,{name:"fade"},{default:w(()=>[n.value.themes?(v(),x(Oe,{key:0,class:M({"modal-open":n.value.themes}),onClose:a[6]||(a[6]=()=>y("themes"))},null,8,["class"])):I("",!0)]),_:1})],64)}}};export{bs as default};
