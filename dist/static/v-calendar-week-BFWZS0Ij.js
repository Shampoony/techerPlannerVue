import{r as p,k as Me,j as Se,l as ie,o as Le,m as Ce,b as r,c as d,d as t,e as y,w as g,f as B,n as M,g as N,i as b,h as m,q as H,s as ke,v as se,x as pe,t as k,T as Q,F as R,u as We,y as ge,p as G,z as Ie}from"./index-C1EUZadC.js";import{a as de,b as ue,_ as Ee,d as Ne,c as He}from"./v-modals-container-CSCT5CD1.js";import{f as ye,G as ae,c as fe,d as we,e as be,_ as Ue,v as Fe,h as oe,i as Ve,j as Pe,t as re,a as he,k as Re,l as je,m as Ze}from"./v-lesson-modal-Dz1-hITs.js";import{u as ce}from"./useIsMobile-w5W-TQcH.js";import{v as Oe}from"./v-footer-6uYwgdfh.js";const ze="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='8'%20cy='8'%20r='8'%20fill='transperent'/%3e%3cpath%20d='M5%207.5H7.5V5H8.5V7.5H11V8.5H8.5V11H7.5V8.5H5V7.5Z'%20fill='%231D4ECC'/%3e%3c/svg%3e",Ye="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='8'%20cy='8'%20r='8'%20fill='transperent'/%3e%3cpath%20d='M5%207.5H7.5V5H8.5V7.5H11V8.5H8.5V11H7.5V8.5H5V7.5Z'%20fill='%23b5f5bf'/%3e%3c/svg%3e",xe="data:image/svg+xml,%3csvg%20width='6'%20height='19'%20viewBox='0%200%206%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%207L-6.52533e-07%2013.9282L-4.68497e-08%200.0717966L6%207Z'%20fill='%23fff'/%3e%3c/svg%3e",Ge={class:"v-calendar-menu"},Qe={class:"v-calendar-menu__block"},Ae={class:"flex gap-2"},Je={class:"v-calendar-menu__picker picker"},Ke={class:"v-calendar-menu__select"},Xe={class:"v-calendar-menu__select-buttons"},et={class:"v-calendar-menu__select-button"},tt={key:0,class:"v-calendar-menu__checkbox flex gap-2"},at={class:"v-calendar-menu__buttons flex"},st={key:0,class:"flex justify-between"},lt={class:"v-calendar-menu__select mob"},nt={class:"v-calendar-menu__select-buttons"},ot={class:"v-calendar-menu__select-button"},rt={key:0,class:"v-calendar-menu__checkbox flex gap-2 mob"},it={key:0,class:"v-calendar-menu mob"},dt={class:"v-calendar-menu__block"},ut={class:"flex gap-2 items-center justify-center"},ct={class:"v-calendar-menu__picker picker"},vt={class:"v-calendar-menu__date flex items-center justify-center"},mt={key:0,class:"v-calendar-menu__date-text"},_t={key:1},kt={class:"v-calendar-menu__date-text"},pt={class:"v-calendar-menu__date-subtitle"},gt={class:"v-calendar-menu__buttons flex"},$e={__name:"v-calendar-menu",props:{isShowedBreak:{type:Boolean,required:!1},type:{type:String,required:!0}},emits:["toggleBreakMode","setMonth","setWeek","paginateMonth","paginateWeek"],setup(f,{emit:A}){const h=A,U=p(localStorage.getItem("breakMode")),x=p({}),w=p(),F=new Date,$=p(`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`),J=p($.value.slice(0,4)),T=p(),c=ce(768),j=ce(480),P=p(),q=p(),W=Me(),D=Se(),C=f,I=p({lessons:!1,trial_lesson:!1}),le=()=>{const s=$.value.split("-")[1],e=$.value.split("-")[0],v={...D.query,selected_date:`${s}.${e}`};W.push({query:v})},Z=s=>{let e=parseInt($.value.split("-")[1]),v=parseInt($.value.split("-")[0]);s=="next"?e===12?(e=1,v+=1):e+=1:s==="prev"&&(e===1?(e=12,v-=1):e-=1),T.value=oe(e-1),$.value=`${v}-${String(e).padStart(2,0)}`,w.value={month:e-1,year:v},h("paginateMonth",{month:e,year:v}),le()},K=async s=>{const e={...D.query,start_date:s};await W.push({query:e})},X=async s=>{const e=new Date(x.value[0]),v=s==="next"?7:-7;e.setDate(e.getDate()+v);const l=Ve(e);K(l).then(()=>{i(),h("paginateWeek")})},O=s=>{x.value=s,h("setWeek",s[0].toLocaleDateString("ru-RU"))},ne=()=>{const s=D.query;if(s.start_date){const e=s.start_date.replace(/\./g,"-"),v=new Date(e.split("-").reverse().join("-")),l={day:"numeric",month:"long"};P.value=v.toLocaleDateString("ru-RU",l);const S=new Date(v);S.setDate(v.getDate()+7),q.value=S.toLocaleDateString("ru-RU",l),x.value=[v,S]}},ee=()=>{n(),ne()},V=s=>{I.value[s]=!I.value[s]},z=()=>{h("toggleBreakMode")},E=s=>{w.value=s,$.value=`${s.year}-${s.month+1}`,h("setMonth",s)},n=()=>{if(D.query.selected_date){const[s,e]=D.query.selected_date.split(".").map(Number);T.value=oe(s-1),!isNaN(s)&&!isNaN(e)&&(w.value={month:s-1,year:e})}else if(!D.query.selected_date){const s=new Date().getMonth(),e=new Date().getFullYear();T.value=oe(s-1),!isNaN(s)&&!isNaN(e)&&(w.value={month:s,year:e})}},a=()=>{if(D.query.modal==="modal_add"){I.value.lessons=!0;const{modal:s,...e}=D.query;W.replace({query:e})}},_=s=>{console.log("Ллалав"),localStorage.setItem("activePage",s)},i=()=>{const e=D.query.start_date.replace(/\./g,"-"),v=new Date(e.split("-").reverse().join("-")),l={day:"numeric",month:"long"};P.value=v.toLocaleDateString("ru-RU",l);const S=new Date(v);S.setDate(v.getDate()+7),q.value=S.toLocaleDateString("ru-RU",l),x.value=[v,S]},u=ie(()=>C.type==="month"?()=>Z("next"):()=>X("next")),o=ie(()=>C.type==="month"?()=>Z("prev"):()=>X("prev"));return Le(()=>{ee(),a()}),(s,e)=>{const v=Ce("router-link");return r(),d(R,null,[t("div",Ge,[t("div",Qe,[t("div",Ae,[t("div",Je,[y(v,{to:{name:"calendar-week"},class:M(["v-calendar-menu__picker-item picker__item",{active:f.type==="week"}]),onClick:e[0]||(e[0]=l=>_("week"))},{default:g(()=>e[23]||(e[23]=[B("Неделя")])),_:1},8,["class"]),y(v,{to:"/calendar",class:M(["v-calendar-menu__picker-item picker__item",{active:f.type==="month"}]),onClick:e[1]||(e[1]=l=>_("month"))},{default:g(()=>e[24]||(e[24]=[B("Месяц")])),_:1},8,["class"])]),t("div",Ke,[t("div",Xe,[t("div",et,[f.type==="month"?(r(),N(b(ae),{key:0,"month-picker":"",locale:"ru-ru","auto-apply":!0,format:b(ye),modelValue:w.value,"onUpdate:modelValue":[e[2]||(e[2]=l=>w.value=l),E]},{"clear-icon":g(({clear:l})=>e[25]||(e[25]=[])),_:1},8,["format","modelValue"])):m("",!0),f.type==="week"?(r(),N(b(ae),{key:1,"week-picker":"",format:b(fe),locale:"ru-ru","auto-apply":!0,modelValue:x.value,"onUpdate:modelValue":[e[3]||(e[3]=l=>x.value=l),O]},{"clear-icon":g(({clear:l})=>e[26]||(e[26]=[])),_:1},8,["format","modelValue"])):m("",!0),e[27]||(e[27]=t("div",{class:"v-calendar-menu__select-button-image"},[t("img",{class:"day-el",src:we,alt:""}),t("img",{class:"night-el",src:be,alt:""})],-1))]),t("div",{class:"v-calendar-menu__select-button",onClick:e[4]||(e[4]=H((...l)=>o.value&&o.value(...l),["prevent"]))},e[28]||(e[28]=[ke('<svg class="day-el" width="6" height="14" viewBox="0 0 6 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g transform="scale(-1,1) translate(-6,0)"><path d="M6 7L-6.52533e-07 13.9282L-4.68497e-08 0.0717966L6 7Z" fill="#202020"></path></g></svg><svg class="night-el" width="6" height="14" viewBox="0 0 6 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g transform="scale(-1,1) translate(-6,0)"><path d="M6 7L-6.52533e-07 13.9282L-4.68497e-08 0.0717966L6 7Z" fill="#fff"></path></g></svg>',2)])),t("div",{class:"v-calendar-menu__select-button",onClick:e[5]||(e[5]=H((...l)=>u.value&&u.value(...l),["prevent"]))},e[29]||(e[29]=[t("svg",{class:"day-el",width:"6",height:"14",viewBox:"0 0 6 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6 7L-6.52533e-07 13.9282L-4.68497e-08 0.0717966L6 7Z",fill:"#202020"})],-1),t("img",{src:xe,class:"night-el",alt:""},null,-1)]))])]),f.isShowedBreak?(r(),d("div",tt,[se(t("input",{type:"checkbox",class:"custom-checkbox-input",id:"break",onChange:z,"onUpdate:modelValue":e[6]||(e[6]=l=>U.value=l)},null,544),[[pe,U.value]]),e[30]||(e[30]=t("label",{for:"break",class:"custom-checkbox-label"},[t("span",{class:"custom-checkbox"}),t("div",{class:"v-calendar-menu__checkbox-subtitle"},"Показывать перерыв между занятиями")],-1))])):m("",!0)]),t("div",at,[t("div",{class:"v-calendar-menu__button trial-btn",onClick:e[7]||(e[7]=l=>V("trial_lesson"))},e[31]||(e[31]=[t("div",{class:"button-plus"},"+",-1),B(" Пробное занятие ")])),t("div",{class:"v-calendar-menu__button blue-btn",onClick:e[8]||(e[8]=l=>V("lessons"))},e[32]||(e[32]=[t("div",{class:"button-plus"},"+",-1),B(" Занятие ")]))])]),b(c).isMobile?(r(),d("div",st,[t("div",lt,[t("div",nt,[t("div",ot,[f.type==="month"?(r(),N(b(ae),{key:0,"month-picker":"",locale:"ru-ru","auto-apply":!0,format:b(ye),modelValue:w.value,"onUpdate:modelValue":[e[9]||(e[9]=l=>w.value=l),E]},{"clear-icon":g(({clear:l})=>e[33]||(e[33]=[])),_:1},8,["format","modelValue"])):m("",!0),f.type==="week"?(r(),N(b(ae),{key:1,"week-picker":"",format:b(fe),locale:"ru-ru","auto-apply":!0,modelValue:x.value,"onUpdate:modelValue":[e[10]||(e[10]=l=>x.value=l),O]},{"clear-icon":g(({clear:l})=>e[34]||(e[34]=[])),_:1},8,["format","modelValue"])):m("",!0),e[35]||(e[35]=t("div",{class:"v-calendar-menu__select-button-image"},[t("img",{class:"day-el",src:we,alt:""}),t("img",{class:"night-el",src:be,alt:""})],-1))]),t("div",{class:"v-calendar-menu__select-button",onClick:e[11]||(e[11]=H((...l)=>o.value&&o.value(...l),["prevent"]))},e[36]||(e[36]=[ke('<svg class="day-el" width="6" height="14" viewBox="0 0 6 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g transform="scale(-1,1) translate(-6,0)"><path d="M6 7L-6.52533e-07 13.9282L-4.68497e-08 0.0717966L6 7Z" fill="#202020"></path></g></svg><svg class="night-el" width="6" height="14" viewBox="0 0 6 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g transform="scale(-1,1) translate(-6,0)"><path d="M6 7L-6.52533e-07 13.9282L-4.68497e-08 0.0717966L6 7Z" fill="#fff"></path></g></svg>',2)])),t("div",{class:"v-calendar-menu__select-button",onClick:e[12]||(e[12]=H((...l)=>u.value&&u.value(...l),["prevent"]))},e[37]||(e[37]=[t("svg",{class:"day-el",width:"6",height:"14",viewBox:"0 0 6 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6 7L-6.52533e-07 13.9282L-4.68497e-08 0.0717966L6 7Z",fill:"#202020"})],-1),t("img",{src:xe,class:"night-el",alt:""},null,-1)]))])]),f.isShowedBreak?(r(),d("div",rt,[se(t("input",{type:"checkbox",class:"custom-checkbox-input",id:"mob-break",onChange:e[13]||(e[13]=l=>h("toggleBreakMode")),"onUpdate:modelValue":e[14]||(e[14]=l=>U.value=l)},null,544),[[pe,U.value]]),e[38]||(e[38]=t("label",{for:"mob-break",class:"custom-checkbox-label"},[t("span",{class:"custom-checkbox"}),t("div",{class:"v-calendar-menu__checkbox-subtitle"},"Показывать перерыв между занятиями")],-1))])):m("",!0)])):m("",!0)]),b(j).isMobile?(r(),d("div",it,[t("div",dt,[t("div",ut,[t("div",ct,[y(v,{to:{name:"calendar-week"},class:M(["v-calendar-menu__picker-item picker__item",{active:f.type==="week"}]),onClick:e[15]||(e[15]=l=>_("week"))},{default:g(()=>e[39]||(e[39]=[B("Неделя")])),_:1},8,["class"]),y(v,{to:{name:"home"},class:M(["v-calendar-menu__picker-item picker__item",{active:f.type==="month"}]),onClick:e[16]||(e[16]=l=>_("week"))},{default:g(()=>e[40]||(e[40]=[B("Месяц")])),_:1},8,["class"])])]),t("div",vt,[t("a",{class:"v-calendar-menu__date-back",onClick:e[17]||(e[17]=H((...l)=>o.value&&o.value(...l),["prevent"]))},e[41]||(e[41]=[t("img",{src:de,class:"day-el",alt:""},null,-1),t("img",{src:ue,class:"night-el",alt:""},null,-1)])),f.type=="week"?(r(),d("h3",mt,k(P.value)+" - "+k(q.value),1)):m("",!0),f.type=="month"?(r(),d("div",_t,[t("h3",kt,k(T.value),1),t("p",pt,k(J.value),1)])):m("",!0),t("a",{class:"v-calendar-menu__date-next",onClick:e[18]||(e[18]=H((...l)=>u.value&&u.value(...l),["prevent"]))},e[42]||(e[42]=[t("img",{src:de,class:"day-el",alt:""},null,-1),t("img",{src:ue,class:"night-el",alt:""},null,-1)]))]),t("div",gt,[t("div",{class:"v-calendar-menu__button trial-btn",onClick:e[19]||(e[19]=l=>V("trial_lesson"))},e[43]||(e[43]=[t("div",{class:"button-plus"},"+",-1),B(" Пробное занятие ")])),t("div",{class:"v-calendar-menu__button blue-btn",onClick:e[20]||(e[20]=l=>V("lessons"))},e[44]||(e[44]=[t("div",{class:"button-plus"},"+",-1),B(" Занятие ")]))])])])):m("",!0),y(Q,{name:"fade"},{default:g(()=>[I.value.lessons?(r(),N(Ue,{key:0,onClose:e[21]||(e[21]=l=>V("lessons"))})):m("",!0)]),_:1}),y(Q,{name:"fade"},{default:g(()=>[I.value.trial_lesson?(r(),N(Fe,{key:0,onClose:e[22]||(e[22]=l=>V("trial_lesson"))})):m("",!0)]),_:1})],64)}}},yt={class:"wrapper"},ft={class:"v-calendar-week"},wt={class:"v-calendar-week__container container"},bt={key:0,class:"sec-hidden-content showing"},ht={key:0,class:"v-calendar-week__table calendar"},xt={class:"calendar-header"},$t=["onDrop"],Dt={class:"calendar-row__item-content calendar-card"},Mt=["onClick","onDragstart"],St={class:"v-calendar-week__break scroll-container"},Lt=["onClick"],Ct={class:"event-header"},Vt={key:0,class:"calendar-card__break"},Bt={key:2,class:"loader-container"},Tt={key:0,class:"v-calendar-week-mob mob-page"},qt={class:"v-calendar-week-mob__container container"},Wt={key:0,class:"v-calendar-week-mob__list"},It={key:0,class:"day"},Et=["onClick"],Nt={class:"day__date"},Ht={key:0},Ut={class:"day__lesson"},Ft={class:"day__lesson-name"},Pt={key:0,class:"day__lesson break"},Rt={class:"day__lesson-block"},jt={class:"day__lesson-time"},Zt={key:0,class:"title pb-4"},Ot=10,De=90,zt={__name:"v-calendar-week",setup(f){const{isMobile:A}=ce(),h=p({}),U=Me(),x=Se(),w=p(localStorage.getItem("breakMode")==="true"),F=p(),$=p(Pe(new Date)),J=p(x.query.start_date||"01.12.2025"),T=We("modalsContainer"),c=p(),j=p({lesson:null,fromColumnIndex:null,fromLessonIndex:null}),P=p({viewType:"Week",cellDuration:15,startDate:re(J.value),allowEventOverlap:!1,eventResizeHandling:"Disabled",timeRangeSelectedHandling:"Disabled",locale:"ru-RU",headerDateFormat:"ddd, d",showNowLine:!0,nowLineColor:"#FF0000",nowLineWidth:2,touch:!0,weekStarts:1,onEventMoved:n=>{const a=n.newStart.value.split("T")[1],_=n.newEnd.value.split("T")[1],i=n.e.data.start.value.split("T")[0],u=new Date(n.newStart.value).getDay();n.e.data.start_time=a.slice(0,5),n.e.data.end_time=_.slice(0,5);const o={day_of_week_id:u||7,start_time:a,end_time:_,conducted_date:i,in_rule:!1},s=n.e.data.lesson_id;he(s,o).then(()=>{console.log("Выполнили запрос")})},onEventResized:n=>{console.log("Event resized")}}),q=async n=>{const a=[];if(n)for(let _ in n.week.days)n.week.days[_].lessons.forEach(i=>{const{start_time:u,end_time:o,...s}=i,e=`${n.week.days[_].day} ${u}`.replace(/(\d{2})\.(\d{2})\.(\d{4})/,"$3-$2-$1T").replace(" ",""),v=`${n.week.days[_].day} ${o}`.replace(/(\d{2})\.(\d{2})\.(\d{4})/,"$3-$2-$1T").replace(" ","");a.push({start:e,end:v,start_time:u.slice(0,5),end_time:o.slice(0,5),...s})});F.value=a},W=p({1:{day_of_week:"пн",date:""},2:{day_of_week:"вт",date:""},3:{day_of_week:"ср",date:""},4:{day_of_week:"чт",date:""},5:{day_of_week:"пт",date:""},6:{day_of_week:"сб",date:""},7:{day_of_week:"вс",date:""}}),D=(n,a,_,i)=>{j.value={lesson:a,fromColumnIndex:_,fromLessonIndex:i}},C=n=>n.slice(0,5),I=(n,a)=>{const{lesson:_,fromColumnIndex:i,fromLessonIndex:u}=j.value;if(i!==a){const o=c.value.week.days[i].lessons,s=c.value.week.days[a].lessons,e=W.value[a].date,v=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),S=String(e.getDate()).padStart(2,"0"),Be=`${v}-${l}-${S}`,Te={day_of_week_id:parseInt(a),start_time:_.start_time,end_time:_.end_time,conducted_date:Be,in_rule:!1},Y=L=>{const[te,_e]=L.split(":").map(Number);return te*60+_e},ve=Y(_.start_time),qe=Y(_.end_time);for(let L of s){const te=Y(L.start_time);if(!(Y(L.end_time)<=ve||te>=qe)){alert("В этот день уже есть занятие на данное время");return}}let me=s.length;for(let L=0;L<s.length;L++)if(Y(s[L].start_time)>ve){me=L;break}o.splice(u,1),s.splice(me,0,_),he(_.lesson_id,Te).then(()=>{console.log("Перенос осуществлен")})}j.value={lesson:null,fromColumnIndex:null,fromLessonIndex:null}},le=n=>n===$.value,Z=()=>{w.value=!w.value,localStorage.setItem("breakMode",w.value),q(c.value)},K=()=>{z()},X=(n,a)=>{if(a==$.value){h.value[n]=!1,$.value="";return}if(!(n in h.value)){h.value[n]=!0;return}h.value[n]=!h.value[n]},O=n=>{T.value.toggleLessonModals("buttons",n)},ne=n=>Math.max(De,De*n),ee=n=>{U.push({query:{start_date:n}}).then(()=>{z()})},V=n=>{const[a,_,i]=n.split(".").map(Number);let u=new Date(i,_-1,a);return u=u.getDay()||7,W.value[u].date=new Date(i,_-1,a),`${W.value[u].day_of_week}, ${a}`},z=async()=>{const n=x.query;if("start_date"in n){J.value=re(n.start_date),P.value.startDate=re(n.start_date);const a=await je(n.start_date);q(a),c.value=a}else{const a=Ze(new Date);window.location.search=`?start_date=${Ve(a)}`}},E=ie(()=>{if(c.value&&c.value.week.days){for(let n in c.value.week.days){const a=c.value.week.days[n];if(a.lessons&&a.lessons.length)return!1}return!0}return!1});return Le(()=>{localStorage.removeItem("upd"),z().then(()=>{q(c.value)}),localStorage.setItem("activePage","week")}),(n,a)=>{const _=Ce("router-link");return r(),d("div",yt,[y(Ee),t("main",null,[se(t("section",ft,[t("div",wt,[y($e,{"is-showed-break":!0,type:"week",onSetWeek:ee,onPaginateWeek:K,onToggleBreakMode:Z}),E.value?(r(),d("div",bt,a[1]||(a[1]=[t("h1",{class:"text-title text-blue"},"Еще не запланировано ни одного занятия!",-1)]))):m("",!0),!w.value&&c.value||E.value?(r(),d("div",{key:1,class:M(["v-calendar-week__content scroll-container",{blur:E.value}])},[y(Q,{name:"fade"},{default:g(()=>[c.value?(r(),d("table",ht,[t("thead",null,[t("tr",xt,[(r(!0),d(R,null,G(c.value.week.days,(i,u)=>(r(),d("th",{class:"calendar-header__item",key:u},k(V(i.day)),1))),128))])]),t("tbody",null,[c.value&&c.value.week?(r(),d("tr",{class:"calendar-row",key:c.value.week.start_date},[(r(!0),d(R,null,G(c.value.week.days,(i,u)=>(r(),d("td",{key:u,class:"calendar-row__item",onDragover:a[0]||(a[0]=H(()=>{},["prevent"])),onDrop:o=>I(o,u)},[t("div",Dt,[(r(!0),d(R,null,G(i.lessons,(o,s)=>(r(),d("div",{class:M(["calendar-card__content",{completed:o.completed}]),key:o.lesson_id,onClick:e=>O(o),draggable:"true",onDragstart:e=>D(e,o,u,s)},[y(Q,{name:"flip"},{default:g(()=>[o?(r(),d("div",{key:0,class:M(["calendar-card__lesson",{trial:o.trial}]),style:Ie({height:ne(o.duration),gap:`${Ot*o.duration}px`})},[t("p",null,k(C(o.start_time))+" - "+k(C(o.end_time)),1),t("p",null,k(o.student_name),1)],6)):m("",!0)]),_:2},1024)],42,Mt))),128))])],40,$t))),128))])):m("",!0)])])):m("",!0)]),_:1})],2)):m("",!0),se(t("div",St,[F.value?(r(),N(b(Ne.DayPilotCalendar),{key:0,config:P.value,events:F.value,ref:"calendarRef"},{event:g(({event:i})=>[t("div",{class:"event",onClick:u=>O(i.data)},[t("div",Ct,[t("div",{class:M(["calendar-card__content",{completed:i.data.completed}])},[t("div",{class:M(["calendar-card__lesson",{trial:i.data.trial}])},[t("p",null,k(i.data.start_time)+" - "+k(i.data.end_time),1),t("p",null,k(i.data.student_name),1)],2),i.data.break&&i.data.break.duration?(r(),d("div",Vt,k(i.data.break.duration),1)):m("",!0)],2)])],8,Lt)]),_:1},8,["config","events"])):m("",!0)],512),[[ge,w.value&&c.value&&!E.value]]),c.value?m("",!0):(r(),d("div",Bt,a[2]||(a[2]=[t("div",{class:"loader"},null,-1)])))])],512),[[ge,!b(A)]]),b(A)?(r(),d("section",Tt,[t("div",qt,[y($e,{"is-showed-break":!0,type:"week",onSetWeek:ee,onPaginateWeek:K,onToggleBreakMode:Z}),c.value&&c.value.week?(r(),d("ul",Wt,[(r(!0),d(R,null,G(c.value.week.days,(i,u)=>(r(),d("li",{key:u,class:"v-calendar-week-mob__list-item"},[i?(r(),d("div",It,[t("div",{class:"day__header",onClick:o=>X(u,i.day)},[t("p",Nt,k(i.day),1),a[3]||(a[3]=t("img",{src:de,class:"day-el",alt:""},null,-1)),a[4]||(a[4]=t("img",{src:ue,class:"night-el",alt:""},null,-1))],8,Et),y(Q,{name:"fade"},{default:g(()=>[h.value[u]||le(i.day)?(r(),d("div",Ht,[y(_,{to:{name:"calendar-day",query:{date:i.day}}},{default:g(()=>[(r(!0),d(R,null,G(i.lessons,(o,s)=>(r(),d("div",{class:"day__content",key:o.id},[t("div",Ut,[t("div",{class:M(["day__lesson-time",{trial:o.trial}])},[a[5]||(a[5]=t("div",{class:"day__lesson-circle"},null,-1)),t("p",null,k(C(o.start_time)),1),a[6]||(a[6]=t("p",null,"-",-1)),t("p",null,k(C(o.end_time)),1)],2),t("div",Ft,k(o.student_name),1)]),c.value.breaks&&c.value.breaks[o.lesson_id]&&c.value.breaks[o.lesson_id].start_time!==c.value.breaks[o.lesson_id].end_time?(r(),d("div",Pt,[t("div",Rt,[a[8]||(a[8]=t("img",{src:ze,class:"day-el",alt:""},null,-1)),a[9]||(a[9]=t("img",{src:Ye,class:"night-el",alt:""},null,-1)),t("div",jt,[t("p",null,k(C(o.start_time)),1),a[7]||(a[7]=t("p",null,"-",-1)),t("p",null,k(b(Re)(o.start_time,c.value.breaks[o.lesson_id].duration)),1)])]),a[10]||(a[10]=t("div",{class:"day__lesson-name"},"Перерыв",-1))])):m("",!0)]))),128))]),_:2},1032,["to"]),i.lessons.length?m("",!0):(r(),d("div",Zt," В этот день у вас нет уроков! "))])):m("",!0)]),_:2},1024)])):m("",!0)]))),128))])):m("",!0)])])):m("",!0)]),y(Oe),y(He,{ref_key:"modalsContainer",ref:T},null,512)])}}},Kt=Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"}));export{$e as _,ze as a,Ye as b,zt as c,Kt as v};
