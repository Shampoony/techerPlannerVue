import{r as p,b as T,aH as B,o as d,c as u,e as i,k as V,n as L,z as b,h as R,j as $,F as E,y as q,g as H,s as x,d as A,au as N,I,N as j,f as z,w as P,O,T as U,as as W}from"./index-DrG9ulrF.js";const K="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='8'%20fill='%23E4EFFF'/%3e%3cpath%20d='M18.8333%209.66663H19.0605C21.7782%209.66663%2023.137%209.66663%2024.0807%2010.3315C24.3511%2010.522%2024.5911%2010.7479%2024.7935%2011.0024C25.4999%2011.8905%2025.4999%2013.1694%2025.4999%2015.7272V17.8484C25.4999%2020.3178%2025.4999%2021.5524%2025.1091%2022.5385C24.4809%2024.1238%2023.1523%2025.3742%2021.468%2025.9655C20.4202%2026.3333%2019.1084%2026.3333%2016.4848%2026.3333C14.9855%2026.3333%2014.2359%2026.3333%2013.6372%2026.1231C12.6747%2025.7853%2011.9155%2025.0707%2011.5566%2024.1648C11.3333%2023.6014%2011.3333%2022.8958%2011.3333%2021.4848V18'%20stroke='%231D4ECC'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M25.4998%2018C25.4998%2019.5341%2024.2562%2020.7778%2022.7221%2020.7778C22.1672%2020.7778%2021.5131%2020.6806%2020.9737%2020.8251C20.4944%2020.9535%2020.12%2021.3279%2019.9916%2021.8072C19.8471%2022.3466%2019.9443%2023.0007%2019.9443%2023.5556C19.9443%2025.0897%2018.7006%2026.3333%2017.1665%2026.3333'%20stroke='%231D4ECC'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.1667%2013L10.5%2013M13.8333%209.66663V16.3333'%20stroke='%231D4ECC'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",G="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='40'%20height='40'%20rx='20'%20fill='%23F4F7FF'/%3e%3cg%20clip-path='url(%23clip0_8971_27347)'%3e%3cpath%20d='M23.3333%2023.3332L20%2019.9999M20%2019.9999L16.6666%2023.3332M20%2019.9999V27.4999M26.9916%2025.3249C27.8044%2024.8818%2028.4465%2024.1806%2028.8165%2023.3321C29.1866%2022.4835%2029.2635%2021.5359%2029.0351%2020.6388C28.8068%2019.7417%2028.2862%2018.9462%2027.5555%2018.3778C26.8248%2017.8094%2025.9257%2017.5005%2025%2017.4999H23.95C23.6977%2016.5243%2023.2276%2015.6185%2022.5749%2014.8507C21.9222%2014.0829%2021.104%2013.4731%2020.1817%2013.0671C19.2594%2012.661%2018.2571%2012.4694%2017.2501%2012.5065C16.243%2012.5436%2015.2575%2012.8085%2014.3676%2013.2813C13.4777%2013.7541%2012.7066%2014.4225%2012.1122%2015.2362C11.5177%2016.05%2011.1155%2016.9879%2010.9358%2017.9794C10.756%2018.9709%2010.8034%2019.9903%2011.0743%2020.961C11.3452%2021.9316%2011.8327%2022.8281%2012.5%2023.5832'%20stroke='%231D4ECC'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_8971_27347'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(10%2010)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",J="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.66675%201.33337H4.00008C3.64646%201.33337%203.30732%201.47385%203.05727%201.7239C2.80722%201.97395%202.66675%202.31309%202.66675%202.66671V13.3334C2.66675%2013.687%202.80722%2014.0261%203.05727%2014.2762C3.30732%2014.5262%203.64646%2014.6667%204.00008%2014.6667H12.0001C12.3537%2014.6667%2012.6928%2014.5262%2012.9429%2014.2762C13.1929%2014.0261%2013.3334%2013.687%2013.3334%2013.3334V6.00004M8.66675%201.33337L13.3334%206.00004M8.66675%201.33337V6.00004H13.3334'%20stroke='%231D4ECC'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Q="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='15'%20height='15'%20rx='7.5'%20fill='%23CCD8F8'/%3e%3crect%20x='0.5'%20y='0.5'%20width='15'%20height='15'%20rx='7.5'%20stroke='%23CCD8F8'/%3e%3cpath%20d='M10.5%205.5L5.5%2010.5M5.5%205.5L10.5%2010.5'%20stroke='%231D4ECC'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",X=["data-instance-id"],Y=["id"],Z={class:"v-files-handler__drop-area-subtitle"},ee=["for"],te={class:"v-files-handler__list"},se={class:"file__block"},le={class:"file__title"},ne=["onClick"],ve={__name:"v-files-handler",props:{modelValue:{type:Array,default:()=>[]},showDropArea:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1}},emits:["update:modelValue","file-added","file-removed"],setup(v,{expose:F,emit:a}){const h=Math.random().toString(36).substring(2,10),w=v,g=a,l=p([]),r=t=>t.map(e=>({...e,uniqueId:e.uniqueId||`${h}-${e.id||Math.random().toString(36).substring(2,10)}`}));T(()=>{l.value=r([...w.modelValue])}),B(()=>w.modelValue,t=>{const e=new Set(l.value.map(o=>o.uniqueId)),s=r(t),n=s.filter(o=>!e.has(o.uniqueId));n.length>0?l.value=[...l.value,...n]:t.length!==l.value.length&&(l.value=s)},{deep:!0}),B(l,t=>{const e=t.map(({uniqueId:s,...n})=>n);g("update:modelValue",e)},{deep:!0});const m=p(null),f=p(!1),c=t=>{const e=Array.from(t).map(n=>({id:Math.random().toString(36).substring(2,15),name:n.name,size:n.size,file:n})),s=r(e);l.value=[...l.value,...s],g("file-added",e)},_=t=>{t.target.files&&t.target.files.length>0&&(c(t.target.files),t.target.value="")},D=t=>{f.value=!1;const e=t.dataTransfer.files;e.length>0&&c(e)},C=()=>{m.value.click()},M=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(2)+" KB":(t/(1024*1024)).toFixed(2)+" MB",k=t=>{const e=l.value.find(s=>s.uniqueId===t);if(e){const{uniqueId:s,...n}=e;l.value=l.value.filter(o=>o.uniqueId!==t),g("file-removed",n)}};return F({addFilesToList:c,removeFile:k,handlePaste:t=>{const s=(t.clipboardData||window.clipboardData).items;let n=!1;if(s){for(let o=0;o<s.length;o++)if(s[o].kind==="file"){const y=s[o].getAsFile();y&&(n=!0,c([y]))}return n}return!1},openFileSelector:C,instanceId:h}),(t,e)=>(d(),u("div",{class:"v-files-handler","data-instance-id":V(h)},[i("input",{id:`file-handler-input-${V(h)}`,ref_key:"fileInput",ref:m,type:"file",onInput:_,multiple:"",class:"hidden-input"},null,40,Y),v.showDropArea?(d(),u("div",{key:0,class:L(["v-files-handler__drop-area",{dragging:f.value}]),onDragover:e[0]||(e[0]=b(s=>f.value=!0,["prevent"])),onDragleave:e[1]||(e[1]=b(s=>f.value=!1,["prevent"])),onDrop:b(D,["prevent"])},[e[3]||(e[3]=i("img",{src:G,alt:""},null,-1)),i("div",Z,[i("label",{for:`file-handler-input-${V(h)}`},"Загрузите файл ",8,ee),e[2]||(e[2]=R("или перетащите в это поле "))])],34)):$("",!0),i("ul",te,[(d(!0),u(E,null,q(l.value,s=>(d(),u("li",{class:"v-files-handler__list-item file",key:s.uniqueId},[i("div",se,[e[4]||(e[4]=i("img",{class:"file__image",src:J,alt:""},null,-1)),i("p",le,H(s.name)+" ("+H(M(s.size))+")",1)]),i("img",{src:Q,alt:"",onClick:n=>k(s.uniqueId),style:{cursor:"pointer"}},null,8,ne)]))),128))]),v.showAddButton?(d(),u("div",{key:1,class:"file-input",onClick:C},e[5]||(e[5]=[i("img",{src:K,alt:""},null,-1)]))):$("",!0)],8,X))}},ie={class:"v-styled-select__value"},oe=["innerHTML"],ae=["value"],re=["onClick"],de={key:0},ue=["innerHTML"],fe={__name:"v-styled-select",props:{items:{type:Array,required:!1,default:()=>[0,1,2,3,4,5]},value:{type:[Number,String]},isReadonly:{type:Boolean,default:!1},defaultValue:{type:[String,Number,Object],default:null}},emits:["update:modelValue"],setup(v,{emit:F}){const a=v,h=F,w=x(()=>a.isReadonly&&a.value?a.value:_.value?"":l.value.text),g=e=>e==null?typeof a.items[0]=="object"?a.items[0]:{text:a.items[0]}:typeof e=="object"?e:{text:e},l=p(g(a.defaultValue)),r=p(!1),m=p(null),f=p(null),c=p(!1),_=x(()=>typeof l.value=="object"&&l.value.svg),D=x(()=>({top:c.value?"auto":"100%",bottom:c.value?"100%":"auto"})),C=x(()=>({openUp:c.value,open:r.value})),M=async()=>{a.isReadonly||(r.value=!r.value,r.value&&(await W(),t()))},k=()=>{r.value=!1},S=e=>{const s=typeof e=="object"?e:{text:e};l.value=s,h("update:modelValue",s),r.value=!1},t=()=>{if(m.value&&f.value){const e=m.value.getBoundingClientRect(),s=f.value.offsetHeight,n=window.innerHeight-e.bottom;c.value=s>n}};return T(()=>{window.addEventListener("resize",t)}),A(()=>{window.removeEventListener("resize",t)}),B(()=>a.defaultValue,e=>{l.value=g(e)}),(e,s)=>{const n=N("click-outside");return I((d(),u("div",{class:"v-styled-select",ref_key:"selectContainer",ref:m},[i("div",{class:L(["v-styled-select__field",{readonly:v.isReadonly}]),onClick:M},[i("div",ie,[_.value?(d(),u("div",{key:0,class:"v-styled-select__icon",innerHTML:l.value.svg},null,8,oe)):$("",!0),i("input",{class:"",type:"text",value:w.value,readonly:""},null,8,ae)]),I(i("div",{class:L(["v-styled-select__image",C.value])},s[0]||(s[0]=[i("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"#717680","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2),[[j,!v.isReadonly]])],2),z(U,{name:"fade"},{default:P(()=>[I(i("ul",{class:"v-styled-select__list",ref_key:"listRef",ref:f,style:O(D.value)},[(d(!0),u(E,null,q(v.items,(o,y)=>(d(),u("li",{class:"v-styled-select__list-item",key:y,onClick:()=>S(o)},[typeof o=="string"||typeof o=="number"?(d(),u("span",de,H(o),1)):(d(),u("span",{key:1,innerHTML:o.svg},null,8,ue))],8,re))),128))],4),[[j,r.value]])]),_:1})])),[[n,k]])}}};export{ve as _,K as a,fe as b};
