import{r as d,y as m,o as u,c,d as t,Q as _,aw as b,e as p,aQ as M,n as w,k as $,f as g,w as v,ap as y,B as P,j as x,h as C,C as H,T as V,F as j}from"./index-W5j5W2gU.js";const B={class:"v-profile-info styled-section"},S={class:"v-profile-info__column"},U={class:"v-profile-info__column"},E={class:"v-profile-info__column"},T={class:"v-profile-info__button"},D={__name:"v-profile-info",setup(f){const n=d({name:"Иван Иванович",subject:"Математика",number:""}),s=d({...n.value}),a=m(()=>n.value?(console.log(n.value,s.value),Object.keys(n.value).some(i=>n.value[i]!==s.value[i])):!1);return(i,e)=>(u(),c("div",B,[e[6]||(e[6]=t("h2",{class:"v-profile-info__title"}," Информация о профиле ",-1)),t("div",S,[e[3]||(e[3]=t("label",{class:"v-profile-info__subtitle"}," ФИО ",-1)),_(t("input",{class:"custom-input",type:"text",placeholder:"Как к вам обращаются ученики","onUpdate:modelValue":e[0]||(e[0]=o=>s.value.name=o)},null,512),[[b,s.value.name]])]),t("div",U,[e[4]||(e[4]=t("label",{class:"v-profile-info__subtitle"}," Предмет ",-1)),p(M,{items:["Математика","Русский Язык"],"default-value":n.value.subject,modelValue:s.value.subject,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.subject=o)},null,8,["default-value","modelValue"])]),t("div",E,[e[5]||(e[5]=t("label",{class:"v-profile-info__subtitle"}," Номер телефона для связи ",-1)),_(t("input",{class:"custom-input",type:"number",placeholder:"Номер телефона","onUpdate:modelValue":e[2]||(e[2]=o=>s.value.number=o)},null,512),[[b,s.value.number]])]),t("div",T,[t("button",{class:w(["custom-btn blue",{unactive:!a.value}])}," Сохранить изменения ",2)])]))}},N={class:"v-profile-info-right"},Z={class:"v-profile-info-right__section styled-section"},z=["value"],A={__name:"v-profile-info-right",props:{email:{type:String,required:!0}},emits:["toggle-modal"],setup(f,{emit:n}){const s=n,a=i=>{s("toggle-modal",i)};return(i,e)=>(u(),c("div",N,[t("div",Z,[e[4]||(e[4]=t("h2",{class:"text-section-title"}," Почта ",-1)),t("input",{type:"text",class:"custom-input readonly",value:f.email,readonl:"",y:""},null,8,z),t("button",{class:"custom-btn white",onClick:e[0]||(e[0]=()=>a("linkEmail"))}," Привязать другую почту ")]),t("div",{class:"v-profile-info-right__section styled-section",onClick:e[3]||(e[3]=o=>a("changePassword"))},[e[7]||(e[7]=t("button",{class:"v-profile-info-right__button"},[t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M4.66667 7.33334V4.66668C4.66667 3.78262 5.01786 2.93478 5.64298 2.30965C6.2681 1.68453 7.11595 1.33334 8 1.33334C8.88406 1.33334 9.7319 1.68453 10.357 2.30965C10.9821 2.93478 11.3333 3.78262 11.3333 4.66668V7.33334M3.33333 7.33334H12.6667C13.403 7.33334 14 7.9303 14 8.66668V13.3333C14 14.0697 13.403 14.6667 12.6667 14.6667H3.33333C2.59695 14.6667 2 14.0697 2 13.3333V8.66668C2 7.9303 2.59695 7.33334 3.33333 7.33334Z",stroke:"#344055","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]),$(" Установить постоянный пароль ")],-1)),t("button",{class:"v-profile-info-right__button",onClick:e[1]||(e[1]=()=>a("logout"))},e[5]||(e[5]=[t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V3.33333C2 2.97971 2.14048 2.64057 2.39052 2.39052C2.64057 2.14048 2.97971 2 3.33333 2H6M10.6667 11.3333L14 8M14 8L10.6667 4.66667M14 8H6",stroke:"#344055","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),$(" Выйти ")])),t("button",{class:"v-profile-info-right__button custom-btn light-red",onClick:e[2]||(e[2]=o=>a("deleteCabinet"))},e[6]||(e[6]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M2.5 4.99984H4.16667M4.16667 4.99984H17.5M4.16667 4.99984V16.6665C4.16667 17.1085 4.34226 17.5325 4.65482 17.845C4.96738 18.1576 5.39131 18.3332 5.83333 18.3332H14.1667C14.6087 18.3332 15.0326 18.1576 15.3452 17.845C15.6577 17.5325 15.8333 17.1085 15.8333 16.6665V4.99984H4.16667ZM6.66667 4.99984V3.33317C6.66667 2.89114 6.84226 2.46722 7.15482 2.15466C7.46738 1.8421 7.89131 1.6665 8.33333 1.6665H11.6667C12.1087 1.6665 12.5326 1.8421 12.8452 2.15466C13.1577 2.46722 13.3333 2.89114 13.3333 3.33317V4.99984M8.33333 9.1665V14.1665M11.6667 9.1665V14.1665",stroke:"#717680","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})],-1),$(" Удалить аккаунт ")]))])]))}},F={__name:"v-delete-cabinet",setup(f){return(n,s)=>(u(),g(y,null,{modal:v(()=>s[0]||(s[0]=[t("div",{class:"v-delete-cabinet"},[t("h2",{class:"modal-title"}," Вы уверены, что хотите удалить аккаунт? "),t("p",{class:"modal-subtitle"}," Информация будет удалена безвозратно. ")],-1)])),button:v(()=>s[1]||(s[1]=[t("button",{class:"custom-btn red"}," Удалить ",-1)])),_:1}))}},L={class:"v-change-password"},Q={class:"modal-field col"},q={key:0,class:"text-red"},O={class:"modal-field col password-field"},G={key:0,class:"text-red"},I={__name:"v-change-password",setup(f){const n=d(""),s=d(""),a=d(!1),i=m(()=>{const r=[],l=n.value;return l.length<8&&r.push("Пароль должен содержать не менее 8 символов"),/[A-Z]/.test(l)||r.push("Должна быть хотя бы одна заглавная латинская буква"),/[a-z]/.test(l)||r.push("Должна быть хотя бы одна строчная латинская буква"),/^[A-Za-z0-9~!?@#$%^&*_\-+()\[\]{}><\/\\|"'.,:]*$/.test(l)||r.push("Допустимы только латинские буквы, арабские цифры и специальные символы"),/[0-9]/.test(l)||r.push("Должна быть хотя бы одна цифра"),/\s/.test(l)&&r.push("Пробелы недопустимы"),console.log("Проверяем пароль"),r}),e=m(()=>i.value[0]),o=m(()=>n.value!==s.value?"Пароли не совпадают":null),k=()=>{a.value=!0,!i.value.length&&!o.value&&console.log("Пароль успешно сохранён")};return(r,l)=>(u(),g(y,null,{modal:v(()=>[t("div",L,[l[5]||(l[5]=t("h2",{class:"modal-title"},"Смена пароля",-1)),t("form",{onSubmit:l[2]||(l[2]=P(()=>{},["prevent"]))},[t("div",Q,[l[3]||(l[3]=t("label",{for:"newPassword",class:"modal-field__subtitle"},"Новый пароль",-1)),_(t("input",{placeholder:"Придумайте пароль",id:"newPassword","onUpdate:modelValue":l[0]||(l[0]=h=>n.value=h),type:"text",class:"custom-input"},null,512),[[b,n.value]]),e.value?(u(),c("div",q,x(e.value),1)):C("",!0)]),t("div",O,[l[4]||(l[4]=t("label",{for:"newPassword2",class:"modal-field__subtitle"},"Повторите новый пароль",-1)),_(t("input",{placeholder:"Введите новый пароль повторно","onUpdate:modelValue":l[1]||(l[1]=h=>s.value=h),id:"newPassword2",type:"text",class:"custom-input"},null,512),[[b,s.value]]),o.value?(u(),c("div",G,x(o.value),1)):C("",!0)])],32)])]),button:v(()=>[t("button",{class:w(["custom-btn blue",{unactive:e.value||o.value}]),onClick:k}," Сохранить ",2)]),_:1}))}},J={class:"v-cabinet"},K={class:"container"},R={class:"v-cabinet__container layout"},W={class:"v-cabinet__nav flex gap-12 my-7"},X={class:"v-cabinet__block"},tt={__name:"v-cabinet",setup(f){const n=d("info"),s=d({deleteCabinet:!1,changePassword:!1}),a=e=>{n.value=e},i=e=>{console.log("Закрыть/открыть модалку",s.value[e]),s.value[e]=!s.value[e]};return(e,o)=>(u(),c(j,null,[p(H,null,{default:v(()=>[t("div",J,[t("div",K,[t("div",R,[o[4]||(o[4]=t("h1",{class:"v-cabinet__title text-title"}," Личный кабинет ученика ",-1)),t("nav",W,[t("div",{class:w(["styled-nav",{active:n.value==="info"}]),onClick:o[0]||(o[0]=()=>a("info"))}," Информаиця о профиле ",2),t("div",{class:w(["styled-nav",{active:n.value==="subscribe"}]),onClick:o[1]||(o[1]=()=>a("subscribe"))}," Подписка ",2)]),t("div",X,[p(D),p(A,{email:"Username@mail.ru",onToggleModal:i})])])])])]),_:1}),p(V,{name:"fade"},{default:v(()=>[s.value.deleteCabinet?(u(),g(F,{key:0,onClose:o[2]||(o[2]=k=>i("deleteCabinet"))})):C("",!0)]),_:1}),p(V,{name:"fade"},{default:v(()=>[s.value.changePassword?(u(),g(I,{key:0,onClose:o[3]||(o[3]=k=>i("changePassword"))})):C("",!0)]),_:1})],64))}};export{tt as default};
