import{r as a,y as $,aO as te,o as C,f as j,w as h,d as e,Q as p,R as N,ap as D,b as O,c as V,F as Q,A as se,e as v,aP as ve,B as le,n as x,aw as G,h as oe,j as ne,aQ as E,l as Z,aR as pe,k as Y,aS as _e,W as M,C as ge,T as P,x as fe,z as be}from"./index-BBvMqIIN.js";import{u as he}from"./useIsMobile-DC-rU4XH.js";import{u as q}from"./studentsStore-DX0Malv_.js";import{u as J,_ as Ce,a as ye}from"./v-students-table-Q1WFtSki.js";import{_ as ke}from"./v-files-handler-CjmgChRI.js";import"./telegram-Tjn7FoaJ.js";const ee="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%2010.8333V15.8333C15%2016.2754%2014.8244%2016.6993%2014.5118%2017.0118C14.1993%2017.3244%2013.7754%2017.5%2013.3333%2017.5H4.16667C3.72464%2017.5%203.30072%2017.3244%202.98816%2017.0118C2.67559%2016.6993%202.5%2016.2754%202.5%2015.8333V6.66667C2.5%206.22464%202.67559%205.80072%202.98816%205.48816C3.30072%205.17559%203.72464%205%204.16667%205H9.16667M12.5%202.5H17.5M17.5%202.5V7.5M17.5%202.5L8.33333%2011.6667'%20stroke='%23717680'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",we="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.5%2017.5L13.875%2013.875M15.8333%209.16667C15.8333%2012.8486%2012.8486%2015.8333%209.16667%2015.8333C5.48477%2015.8333%202.5%2012.8486%202.5%209.16667C2.5%205.48477%205.48477%202.5%209.16667%202.5C12.8486%202.5%2015.8333%205.48477%2015.8333%209.16667Z'%20stroke='%23717680'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Se="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_9311_3631)'%3e%3cpath%20d='M14.1668%2017.5V15.8333C14.1668%2014.9493%2013.8156%2014.1014%2013.1905%2013.4763C12.5654%2012.8512%2011.7176%2012.5%2010.8335%2012.5H4.16683C3.28277%2012.5%202.43493%2012.8512%201.80981%2013.4763C1.18469%2014.1014%200.833496%2014.9493%200.833496%2015.8333V17.5M19.1668%2017.5V15.8333C19.1663%2015.0948%2018.9205%2014.3773%2018.468%2013.7936C18.0155%2013.2099%2017.3819%2012.793%2016.6668%2012.6083M13.3335%202.60833C14.0505%202.79192%2014.686%203.20892%2015.1399%203.79359C15.5937%204.37827%2015.84%205.09736%2015.84%205.8375C15.84%206.57764%2015.5937%207.29673%2015.1399%207.88141C14.686%208.46608%2014.0505%208.88308%2013.3335%209.06667M10.8335%205.83333C10.8335%207.67428%209.34111%209.16667%207.50016%209.16667C5.65921%209.16667%204.16683%207.67428%204.16683%205.83333C4.16683%203.99238%205.65921%202.5%207.50016%202.5C9.34111%202.5%2010.8335%203.99238%2010.8335%205.83333Z'%20stroke='white'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_9311_3631'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Me="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_9241_10005)'%3e%3cpath%20d='M13.3333%2013.3332L9.99997%209.9999M9.99997%209.9999L6.66663%2013.3332M9.99997%209.9999V17.4999M16.9916%2015.3249C17.8044%2014.8818%2018.4465%2014.1806%2018.8165%2013.3321C19.1866%2012.4835%2019.2635%2011.5359%2019.0351%2010.6388C18.8068%209.7417%2018.2862%208.94616%2017.5555%208.37778C16.8248%207.80939%2015.9257%207.50052%2015%207.4999H13.95C13.6977%206.52427%2013.2276%205.61852%2012.5749%204.85073C11.9222%204.08295%2011.104%203.47311%2010.1817%203.06708C9.25943%202.66104%208.25709%202.46937%207.25006%202.50647C6.24304%202.54358%205.25752%202.80849%204.36761%203.28129C3.47771%203.7541%202.70656%204.42249%202.11215%205.23622C1.51774%206.04996%201.11554%206.98785%200.935783%207.9794C0.756025%208.97095%200.803388%209.99035%201.07431%2010.961C1.34523%2011.9316%201.83267%2012.8281%202.49997%2013.5832'%20stroke='%23545F72'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_9241_10005'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",xe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_9241_10005)'%3e%3cpath%20d='M13.3333%2013.3332L9.99997%209.9999M9.99997%209.9999L6.66663%2013.3332M9.99997%209.9999V17.4999M16.9916%2015.3249C17.8044%2014.8818%2018.4465%2014.1806%2018.8165%2013.3321C19.1866%2012.4835%2019.2635%2011.5359%2019.0351%2010.6388C18.8068%209.7417%2018.2862%208.94616%2017.5555%208.37778C16.8248%207.80939%2015.9257%207.50052%2015%207.4999H13.95C13.6977%206.52427%2013.2276%205.61852%2012.5749%204.85073C11.9222%204.08295%2011.104%203.47311%2010.1817%203.06708C9.25943%202.66104%208.25709%202.46937%207.25006%202.50647C6.24304%202.54358%205.25752%202.80849%204.36761%203.28129C3.47771%203.7541%202.70656%204.42249%202.11215%205.23622C1.51774%206.04996%201.11554%206.98785%200.935783%207.9794C0.756025%208.97095%200.803388%209.99035%201.07431%2010.961C1.34523%2011.9316%201.83267%2012.8281%202.49997%2013.5832'%20stroke='%23FF3A3A'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_9241_10005'%3e%3crect%20width='20'%20height='20'%20fill='%23FF3A3A'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",$e={class:"v-delete-modal"},Ve=["innerHTML"],Te={class:"v-delete-modal__rule"},Ae={class:"flex gap-3"},Ie={class:"styled-checkbox"},Ge={__name:"v-delete-modal",props:{group:Object,student:Number,type:String,student_amount:Number,group_amount:Number},setup(k){const o=k,c=a(!1),u=J(),m=a(null),_=a("Вы уверены, что хотите удалить");$(()=>u.student.length>1?"plural":u.student.length===1?"singular":"none"),te(()=>[o.student_amount,o.group_amount,o.type,o.student],()=>{console.log("Props changed:",o.type,o.student_amount,o.group_amount,o.student)},{immediate:!0});const d=$(()=>{let i="";return u.student.length===1&&o.type==="students"&&(i+=`ученика <p> (${u.student[0].name})?</p>`),u.student.length>1&&o.type==="students"&&(i+=`выбранных учеников <p>(${u.student.length})?</p>`),o.type==="groups"&&u.student.length===1&&(i+=`группу <p>(${u.student[0].name})?</p>`),o.type==="groups"&&u.student.length>1&&(i+=`группы <p>(${u.student.length})?</p>`),_.value+" "+i}),b=()=>{console.log(o.type)};return(i,l)=>(C(),j(D,{ref_key:"customModal",ref:m},{modal:h(()=>[e("div",$e,[e("h1",{class:"modal-title",innerHTML:d.value},null,8,Ve),l[3]||(l[3]=e("div",{class:"caption"},"Информация о учениках будет удалена безвозратно.",-1)),e("div",Te,[e("div",Ae,[e("div",Ie,[p(e("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>c.value=s),type:"checkbox",id:"delete-info"},null,512),[[N,c.value]]),l[1]||(l[1]=e("label",{for:"delete-info"},null,-1))]),l[2]||(l[2]=e("label",{for:"delete"},"Удалить информацию о всех учениках выбранной группы",-1))])])])]),button:h(()=>[e("button",{class:"custom-btn red",onClick:b},"Удалить")]),_:1},512))}},Pe={class:"v-students-cards"},Ue={class:"v-students-cards__list students-list"},je={__name:"v-students-cards",props:{items:{type:Array,default:()=>[]},type:String},emits:["student-selected","toggle-modal"],setup(k,{expose:o,emit:c}){const u=c,m=k,_=J();a({editGroup:!1,deleteModal:!1});const d=a(null),b=a(null),i=a(!1),l=a({}),s=(g,w)=>{const T=g.id;l.value[T]=w,w?_.pushDeletedStudent(g):_.removeDeletedStudent(T);const f=Object.values(l.value).some(U=>U);console.log(l.value),u("student-selected",f,l.value)},n=g=>{m.type==="groups"?(d.value=m.items.find(w=>w.id===g),_.selected_group=d.value,u("toggle-modal","editGroup")):console.log("Редактировать студента:",g)},S=g=>m.type==="groups"?[{title:"Количество учеников",value:m.items[g].students_count},{title:"Ставка",value:m.items[g].rate},{title:"Баланс",value:m.items[g].balance},{title:"Статус ДЗ",value:m.items[g].homework},{title:"Комментарий",value:m.items[g].comment}]:[],I=g=>{_.setDeletedStudent(g),u("toggle-modal","deleteModal")};return o({selectAllStudents:g=>{for(const w in l.value)l.value[w]=g;i.value=!i.value,b.value.forEach(w=>{w.selectStudent(i.value)})},handleDeleteStudent:I,selectedStudents:l}),O(()=>{m.items.forEach(g=>{l.value[g.id]=!1})}),(g,w)=>(C(),V("div",Pe,[e("ul",Ue,[(C(!0),V(Q,null,se(k.items,(T,f)=>(C(),V("li",{class:"v-students-cards__list-item",key:T.id},[v(ve,{ref_for:!0,ref_key:"studentCardsRef",ref:b,student:T,"info-items":S(f),onSelected:U=>s(T,U),onEdit:n,onDelete:I},null,8,["student","info-items","onSelected"])]))),128))])]))}},De={class:"v-group-modal"},Le={class:"modal-field col"},Fe={key:0,class:"error-text"},Be={class:"v-group-modal__list"},He={class:"styled-checkbox"},Ee=["onUpdate:modelValue","id"],Ne=["for"],Oe=["for"],ze={__name:"v-group-modal",props:{students:{type:Array,required:!0}},setup(k){const o=k,c=a({group_name:""}),u=a({}),m=a(!1),_=$(()=>m.value&&!c.value.group_name),d=()=>{if(m.value=!0,!c.value.group_name)return;const b=Object.keys(u.value).filter(l=>u.value[l]),i={name:c.value.group_name,students:b};console.log("Создание группы:",i)};return O(()=>{o.students.forEach(b=>{u.value[b.id]=!0})}),(b,i)=>(C(),j(D,{onSubmit:d},{modal:h(()=>[e("div",De,[i[2]||(i[2]=e("h2",{class:"modal-title"},"Создание группы",-1)),e("form",{onSubmit:le(d,["prevent"])},[e("div",Le,[i[1]||(i[1]=e("span",{class:"modal-field__title"},"Название группы",-1)),p(e("input",{type:"text",class:x(["custom-input",{error:_.value}]),placeholder:"Название группы","onUpdate:modelValue":i[0]||(i[0]=l=>c.value.group_name=l)},null,2),[[G,c.value.group_name,void 0,{trim:!0}]]),_.value?(C(),V("span",Fe," Название группы обязательно ")):oe("",!0)]),e("ul",Be,[(C(!0),V(Q,null,se(k.students,l=>(C(),V("li",{class:"v-group-modal__list-item",key:l.id},[e("div",He,[p(e("input",{type:"checkbox","onUpdate:modelValue":s=>u.value[l.id]=s,id:"student-"+l.id},null,8,Ee),[[N,u.value[l.id]]]),e("label",{for:"student-"+l.id},null,8,Ne)]),e("label",{class:"white-bg",for:"student-"+l.id},ne(l.name),9,Oe)]))),128))])],32)])]),_:1}))}},Re={class:"v-mass-addition"},Ze={__name:"v-mass-addition",setup(k){return(o,c)=>(C(),j(D,null,{modal:h(()=>[e("div",Re,[c[0]||(c[0]=e("h2",{class:"modal-title"},"Массовое добавление учеников",-1)),c[1]||(c[1]=e("p",{class:"modal-subtitle mt-2"},"Скачайте и загрузите отредактированный шаблон",-1)),v(ke,{showDropArea:!0})])]),_:1}))}},Qe={class:"v-add-students-modal"},qe={class:"modal-field col"},Je={class:"modal-field col"},We={class:"modal-field col"},Ke={class:"modal-field col"},Xe={class:"modal-field__block connection-type"},Ye={class:"modal-field col"},et={class:"modal-field__block"},tt={class:"modal-field col"},st={class:"modal-field col"},lt={__name:"v-add-students-modal",setup(k){const o=q(),c=$(()=>o.typeConnect),u=o.rate,m=o.currency,_=o.timeZone,d=a({student_id:0,type_connect_id:0,student_name:"",phone_number:"",parent_name:"",parent_phone_number:"",source:"",currency_id:0,rate:0,timezone_id:0,commission:0,goal:"",balance:0,subscription_lessons:0,subscription_discount:0,subscription_price:0,is_subscription:!1,trial:!1,cost_lesson:0,cost_lesson_one_time:0,time_rate:0}),b=()=>{console.log("Submitted data:",JSON.stringify(d.value,null,2))},i=async()=>{await o.setTypeConnects()};return O(()=>{i()}),(l,s)=>(C(),j(D,{onSubmit:b},{modal:h(()=>[e("div",Qe,[s[17]||(s[17]=e("h2",{class:"modal-title mb-4"},"Добавление ученика",-1)),e("form",{onSubmit:le(b,["prevent"]),class:"modal-form",method:"POST"},[e("div",qe,[s[10]||(s[10]=e("div",{class:"modal-field__title"},"Имя ученика",-1)),p(e("input",{class:"custom-input",type:"text",placeholder:"Имя ученика","onUpdate:modelValue":s[0]||(s[0]=n=>d.value.student_name=n)},null,512),[[G,d.value.student_name]])]),e("div",Je,[s[11]||(s[11]=e("div",{class:"modal-field__title"},"Источник",-1)),p(e("input",{class:"custom-input",type:"text",placeholder:"Источник","onUpdate:modelValue":s[1]||(s[1]=n=>d.value.source=n)},null,512),[[G,d.value.source]])]),e("div",We,[s[12]||(s[12]=e("div",{class:"modal-field__title"},"Цель занятий",-1)),p(e("input",{class:"custom-input",type:"text",placeholder:"Цель занятий","onUpdate:modelValue":s[2]||(s[2]=n=>d.value.goal=n)},null,512),[[G,d.value.goal]])]),e("div",Ke,[s[13]||(s[13]=e("div",{class:"modal-field__title"},"Способ связи",-1)),e("div",Xe,[p(e("input",{class:"custom-input",type:"text",placeholder:"Номер телефона","onUpdate:modelValue":s[3]||(s[3]=n=>d.value.phone_number=n)},null,512),[[G,d.value.phone_number]]),v(E,{items:c.value,modelValue:d.value.type_connect_id,"onUpdate:modelValue":s[4]||(s[4]=n=>d.value.type_connect_id=n)},null,8,["items","modelValue"])])]),e("div",Ye,[s[14]||(s[14]=e("div",{class:"modal-field__title"},"Ставка",-1)),e("div",et,[p(e("input",{class:"custom-input",type:"number",placeholder:"сумма","onUpdate:modelValue":s[5]||(s[5]=n=>d.value.rate=n)},null,512),[[G,d.value.rate,void 0,{number:!0}]]),v(E,{items:Z(u),modelValue:d.value.time_rate,"onUpdate:modelValue":s[6]||(s[6]=n=>d.value.time_rate=n)},null,8,["items","modelValue"]),v(E,{items:Z(m),modelValue:d.value.currency_id,"onUpdate:modelValue":s[7]||(s[7]=n=>d.value.currency_id=n)},null,8,["items","modelValue"])])]),e("div",tt,[s[15]||(s[15]=e("div",{class:"modal-field__title"},"Комиссия, ₽",-1)),p(e("input",{class:"custom-input",type:"number",placeholder:"10","onUpdate:modelValue":s[8]||(s[8]=n=>d.value.commission=n)},null,512),[[G,d.value.commission,void 0,{number:!0}]])]),e("div",st,[s[16]||(s[16]=e("div",{class:"modal-field__title"},"Часовой пояс",-1)),v(E,{items:Z(_),modelValue:d.value.timezone_id,"onUpdate:modelValue":s[9]||(s[9]=n=>d.value.timezone_id=n)},null,8,["items","modelValue"])])],32)])]),_:1}))}},ot={class:"v-archive-modal"},nt=["innerHTML"],ut={class:"v-archive-modal__rule"},dt={class:"flex gap-3"},at={class:"styled-checkbox"},it={__name:"v-archive-student-modal",props:{group:Object,student:Number,type:String,student_amount:Number,group_amount:Number},setup(k){const o=k,c=a(!1),u=J(),m=q(),_=a(null),d=a("Вы уверены, что хотите архивировать");te(()=>[o.student_amount,o.group_amount,o.type,o.student],()=>{console.log("Props changed:",o.type,o.student_amount,o.group_amount,o.student)},{immediate:!0});const b=$(()=>{let l="";return u.student.length===1&&o.type==="students"&&(l+=`<p> ученика (${u.student[0].student_name})?</p>`),u.student.length>1&&o.type==="students"&&(l+=`выбранных  <p> учеников (${u.student.length})?</p>`),o.type==="groups"&&u.student.length===1&&(l+=`<p> группу (${u.student[0].group_name})?</p>`),o.type==="groups"&&u.student.length>1&&(l+=`<p> группы (${u.student.length})?</p>`),d.value+" "+l}),i=async()=>{var s;const l=[...u.student];try{if(await Promise.all(l.map(n=>pe(n.id))),c.value&&o.type==="groups"){const n=(s=o.group)==null?void 0:s.id;n&&(m.students=m.students.filter(S=>S.group_id!==n))}else{const n=l.map(S=>S.id);console.log("Студенты полсе архивации - ",m.students.filter(S=>!n.includes(S.id))),m.students=m.students.filter(S=>!n.includes(S.id))}_.value.close()}catch(n){console.error("Ошибка при архивировании:",n)}};return(l,s)=>(C(),j(D,{ref_key:"customModal",ref:_},{modal:h(()=>[e("div",ot,[e("h1",{class:"modal-title",innerHTML:b.value},null,8,nt),s[3]||(s[3]=e("div",{class:"caption"},"Вы сможете восстановить ученика из архива.",-1)),e("div",ut,[e("div",dt,[e("div",at,[p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>c.value=n),type:"checkbox",id:"delete-info"},null,512),[[N,c.value]]),s[1]||(s[1]=e("label",{for:"delete-info"},null,-1))]),s[2]||(s[2]=e("label",{for:"delete-info"},"Архивировать информацию о всех учениках выбранной группы",-1))])])])]),button:h(()=>[e("button",{class:"custom-btn blue",onClick:i},"Архивировать")]),_:1},512))}},rt={class:"v-students"},ct={class:"container"},mt={class:"v-students__container layout"},vt={class:"v-students__header"},pt={class:"v-students__header-block"},_t={class:"flex gap-3 justify-between"},gt={class:"v-students__title text-title"},ft={class:"flex gap-4 justify-between"},bt={class:"v-students__header-buttons"},ht={key:0,class:"v-students__menu"},Ct={class:"v-students__menu-block"},yt={class:"v-students__menu-buttons"},kt={class:"v-students__menu-buttons"},wt={class:"v-students__menu-block"},St={key:1,class:"v-students__menu"},Mt={key:0,class:"flex gap-3"},xt={class:"styled-checkbox"},$t={class:"v-students__menu-block"},Vt={class:"loader-container"},Tt={class:"layout"},Dt={__name:"v-students",setup(k){const o=he(480),c=a(!1),u=a(null),m=a(null),_=a([]),d=a([]),b=a(!0),i=a(!1),l=a(!0),s=a(!1),n=a(!1),S=fe(),I=q(),L=$(()=>l.value?"students":s.value?"groups":null),g=$(()=>_.value.length<1?[A.value.filter(t=>t.id===_.value[0])]:null),w=a(null),T=a(null),f=a({archive:!1,editGroup:!1,addStudents:!1,massAddition:!1,groupModal:!1,deleteModal:!1}),U=a([{id:1,name:"ЕГЭ",students_count:10,rate:"2000 ₽ / 1,5 часа",balance:1200,homework:"Ждёт ответа",comment:"Работаем по скидке 20% (для всех)",students:[{id:1,name:"Алексей"}]},{id:2,name:"ОГЭ",students_count:10,rate:"2000 ₽ / 1,5 часа",balance:1200,homework:"Ждёт ответа",comment:"Работаем по скидке 20% (для всех)",students:[{id:2,name:"Тимур"}]}]),A=$(()=>(I.students.length||(n.value=!1),I.students)),ue=$(()=>L.value==="students"?"Ученики":"Группы"),W=$(()=>s.value?U.value:A.value),K=$(()=>s.value?"groups":"students"),F=a(!1),de=r=>{s.value?y("editGroup"):(console.log(r),S.push({name:"student",params:{id:r.id}}))},ae=()=>{u.value.selectAllStudents(c.value),n.value=c.value},B=r=>{b.value=r==="table",i.value=r==="cards",localStorage.setItem("menu",r)},X=(r,t)=>{n.value=r,_.value=t},z=r=>{l.value=r==="students",s.value=r==="groups",localStorage.setItem("menuType",r)},ie=()=>{console.log(m.value.selectedGroupStudents);const r=b.value?m.value.selectedGroupStudents:u.value.selectedGroupStudents,t=[];for(const H in r)t.push(A.value.filter(R=>R.id==H)[0]);d.value=t,y("groupModal")},y=r=>{console.log(r,"- ОКНО"),console.log(r,f.value[r]),f.value[r]=!f.value[r]},re=()=>{const r=Object.keys(_.value).filter(t=>_.value[t]);w.value=r.length,f.value.deleteModal=!0},ce=()=>{const r=localStorage.getItem("menu"),t=localStorage.getItem("menuType");s.value=t==="groups",l.value=t==="students",r&&B(r),o?B("cards"):t&&z(t)},me=async()=>{F.value=!0,await I.getStudents(),A.value=I.students,F.value=!1};return O(()=>{ce(),me()}),(r,t)=>{const H=be("router-link");return C(),V(Q,null,[v(ge,null,{default:h(()=>[e("section",rt,[e("div",ct,[e("div",mt,[e("div",vt,[e("div",pt,[e("div",_t,[e("h1",gt,ne(ue.value),1)]),e("div",ft,[v(H,{to:{name:"archive_students"},class:"v-students__menu-link mob"},{default:h(()=>t[14]||(t[14]=[e("img",{src:ee,alt:""},null,-1),Y(" Архив ")])),_:1}),e("div",bt,[e("button",{class:"v-students__header-button custom-btn white",onClick:t[0]||(t[0]=()=>y("massAddition"))},t[15]||(t[15]=[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_9241_10005)"},[e("path",{d:"M13.3333 13.3332L9.99997 9.9999M9.99997 9.9999L6.66663 13.3332M9.99997 9.9999V17.4999M16.9916 15.3249C17.8044 14.8818 18.4465 14.1806 18.8165 13.3321C19.1866 12.4835 19.2635 11.5359 19.0351 10.6388C18.8068 9.7417 18.2862 8.94616 17.5555 8.37778C16.8248 7.80939 15.9257 7.50052 15 7.4999H13.95C13.6977 6.52427 13.2276 5.61852 12.5749 4.85073C11.9222 4.08295 11.104 3.47311 10.1817 3.06708C9.25943 2.66104 8.25709 2.46937 7.25006 2.50647C6.24304 2.54358 5.25752 2.80849 4.36761 3.28129C3.47771 3.7541 2.70656 4.42249 2.11215 5.23622C1.51774 6.04996 1.11554 6.98785 0.935783 7.9794C0.756025 8.97095 0.803388 9.99035 1.07431 10.961C1.34523 11.9316 1.83267 12.8281 2.49997 13.5832",stroke:"#545F72","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_9241_10005"},[e("rect",{width:"20",height:"20",fill:"white"})])])],-1),e("span",null," Массовове добавление учеников ",-1)])),e("button",{class:"v-students__header-button custom-btn blue",onClick:t[1]||(t[1]=()=>y("addStudents"))},t[16]||(t[16]=[e("img",{src:_e,alt:""},null,-1),e("span",null," Ученик ",-1)]))])])])]),n.value?(C(),V("div",St,[i.value?(C(),V("div",Mt,[e("div",xt,[p(e("input",{type:"checkbox",id:"select-all",onChange:ae,"onUpdate:modelValue":t[6]||(t[6]=R=>c.value=R)},null,544),[[N,c.value]]),t[19]||(t[19]=e("label",{class:"white-bg",for:"select-all"},null,-1))]),t[20]||(t[20]=e("label",{for:"select-all",class:"subtitle"},"Выбреть все",-1))])):oe("",!0),e("div",$t,[p(e("button",{class:"custom-btn blue",onClick:ie},t[21]||(t[21]=[e("img",{src:Se,alt:""},null,-1),e("span",null," Создать группу ",-1)]),512),[[M,l.value]]),e("button",{class:"custom-btn white",onClick:t[7]||(t[7]=()=>y("archive"))},t[22]||(t[22]=[e("img",{src:Me,alt:""},null,-1),e("span",null," Архивировать ",-1)])),e("button",{class:"custom-btn white",onClick:re},t[23]||(t[23]=[e("img",{src:xe,alt:""},null,-1),e("span",{class:"text-red"}," Удалить ",-1)]))])])):(C(),V("div",ht,[e("div",Ct,[e("div",yt,[e("button",{class:x(["v-students__menu-button",{active:b.value}]),onClick:t[2]||(t[2]=()=>B("table"))}," Таблица ",2),e("button",{class:x(["v-students__menu-button",{active:i.value}]),onClick:t[3]||(t[3]=()=>B("cards"))}," Карточки ",2)]),e("div",kt,[e("button",{class:x(["v-students__menu-button",{active:s.value}]),onClick:t[4]||(t[4]=()=>z("groups"))}," Группы ",2),e("button",{class:x(["v-students__menu-button",{active:l.value}]),onClick:t[5]||(t[5]=()=>z("students"))}," Ученики ",2)])]),e("div",wt,[v(H,{to:{name:"archive_students"},class:"v-students__menu-link"},{default:h(()=>t[17]||(t[17]=[e("img",{src:ee,alt:""},null,-1),Y(" Перейти в архив ")])),_:1}),t[18]||(t[18]=e("div",{class:"v-students__menu-search"},[e("button",{class:"v-students__menu-search-button"},[e("img",{src:we,alt:""})]),e("input",{type:"text",class:"v-students__menu-search-input",placeholder:"Поиск"})],-1))])])),p(v(Ce,{onStudentSelected:X,onEditItem:de,onToggleModal:y,ref_key:"studentsTable",ref:m,items:W.value,type:K.value},null,8,["items","type"]),[[M,b.value&&A.value.length]]),p(v(je,{ref_key:"studentsCards",ref:u,items:W.value,onStudentSelected:X,type:K.value,onToggleModal:y},null,8,["items","type"]),[[M,i.value&&A.value.length]]),p(e("div",Vt,t[24]||(t[24]=[e("div",{class:"loader"},null,-1)]),512),[[M,!A.value.length&&F.value]])]),p(e("div",Tt,t[25]||(t[25]=[e("div",{class:"null-screen"},[e("h1",null,"Ещё не добавлено ни одного ученика")],-1)]),512),[[M,!A.value.length&&!F.value]])])])]),_:1}),v(P,{name:"fade"},{default:h(()=>[p(v(lt,{class:x({"modal-active":f.value.addStudents}),onClose:t[8]||(t[8]=()=>y("addStudents"))},null,8,["class"]),[[M,f.value.addStudents]])]),_:1}),v(P,{name:"fade"},{default:h(()=>[p(v(Ze,{class:x({"modal-active":f.value.massAddition}),onClose:t[9]||(t[9]=()=>y("massAddition"))},null,8,["class"]),[[M,f.value.massAddition]])]),_:1}),v(P,{name:"fade"},{default:h(()=>[p(v(ze,{class:x({"modal-active":f.value.groupModal}),onClose:t[10]||(t[10]=()=>y("groupModal")),students:d.value},null,8,["class","students"]),[[M,f.value.groupModal]])]),_:1}),v(P,{name:"fade"},{default:h(()=>[p(v(Ge,{class:x({"modal-active":f.value.deleteModal}),onClose:t[11]||(t[11]=()=>y("deleteModal")),type:L.value,student:g.value,student_amount:w.value,group_amount:T.value},null,8,["class","type","student","student_amount","group_amount"]),[[M,f.value.deleteModal]])]),_:1}),v(P,{name:"fade"},{default:h(()=>[p(v(it,{class:x({"modal-active":f.value.archive}),onClose:t[12]||(t[12]=()=>y("archive")),type:L.value},null,8,["class","type"]),[[M,f.value.archive]])]),_:1}),v(P,{name:"fade"},{default:h(()=>[p(v(ye,{class:x({"modal-active":f.value.editGroup}),onClose:t[13]||(t[13]=()=>y("editGroup"))},null,8,["class"]),[[M,f.value.editGroup]])]),_:1})],64)}}};export{Dt as default};
