import{o,f as b,w as i,d as t,ap as j,r as k,y,b as $,c as u,e as h,k as C,n as w,Q as f,W as M,F as g,A as B,j as c,l as x,b7 as z,U as S,bo as E,C as A,h as D,T as F,bs as Q,z as U}from"./index-W5j5W2gU.js";import{u as W}from"./financeStore-DExAMuqF.js";const Z={__name:"v-pko-modal",setup(H){return(l,a)=>(o(),b(j,{"hide-buttons":!0},{modal:i(()=>a[0]||(a[0]=[t("div",{class:"v-pko-modal"},[t("h2",{class:"modal-title"}," Приходный кассовый ордер "),t("div",{class:"modal-field col"},[t("p",{class:"v-pko-modal__subtitle"},"Индивидуальный предприниматель ФИО (ИНН)"),t("p",{class:"v-pko-modal__subtitle"},"Адрес осуществления расчета"),t("p",{class:"v-pko-modal__subtitle"},"Патентная система налогооблажения")]),t("div",{class:"modal-field col"},[t("p",{class:"v-pko-modal__subtitle"},"Квитанция № (...) от “...” ... 20... г."),t("p",{class:"v-pko-modal__subtitle"},"Время расчета ... ч. ... мин.")]),t("div",{class:"v-pko-modal__row"},[t("div",{class:"v-pko-modal__row-title"},"ПРИХОД"),t("div",{class:"v-pko-modal__row-block"},[t("span",{class:"v-pko-modal__subtitle"}," Урок по ... , ... час."),t("span",{class:"v-pko-modal__subtitle"}," 5000,00 РУБ ")])]),t("div",{class:"v-pko-modal__row"},[t("div",{class:"v-pko-modal__row-title"},"ОПЛАЧЕНО"),t("div",{class:"v-pko-modal__row-block"},[t("span",{class:"v-pko-modal__subtitle"}," Сумма оплаты "),t("span",{class:"v-pko-modal__subtitle"}," 5000,00 РУБ ")])])],-1)])),_:1}))}},q={__name:"v-delete-operation",emits:["delete-operation"],setup(H,{emit:l}){const a=l,d=()=>{a("delete-operation")};return(v,p)=>(o(),b(j,null,{modal:i(()=>p[0]||(p[0]=[t("div",{class:"v-delete-operation"},[t("h1",{class:"modal-title"},"Вы уверены, что хотите удалить операцию?")],-1)])),button:i(()=>[t("button",{class:"custom-btn red",onClick:d},"Удалить")]),_:1}))}},G={class:"v-history-operations"},J={class:"container"},K={class:"v-history-operations__container layout"},P={class:"route"},R={class:"v-history-operations__header"},X={class:"v-history-operations__nav"},Y={class:"scrolltable"},tt={class:"v-history-operations__table styled-table"},st={class:"styled-table__body"},et={class:"styled-table__body-item"},ot={class:"styled-table__body-item"},lt={class:"styled-table__body-item"},at={class:"styled-table__body-item"},nt=["onClick"],it={class:"v-history-operations__list"},dt={class:"history-operation__block"},rt={class:"histoty-operation__date caption"},_t={class:"history-operation__block"},ut={class:"history-operation__price"},ct={class:"history-operation__buttons"},vt=["onClick"],pt={class:"null-screen"},ht={__name:"v-history-operations",setup(H){const l=W(),a=k(),d=k("income"),v=k(!1),p=y(()=>l.income),L=y(()=>l.expenses),m=k({deleteOperation:!1,pkoModal:!1}),r=y(()=>d.value==="income"?p.value:L.value),V=n=>{d.value=n},_=n=>{m.value[n]=!m.value[n]},O=n=>{_("deleteOperation"),a.value=n},N=async()=>{await Q(a.value)},T=async()=>{v.value=!0,await l.fetchFinanceExpenses(),await l.fetchFinanceIncome(),v.value=!1};return $(()=>{T()}),(n,s)=>{const I=U("router-link");return o(),u(g,null,[h(A,null,{default:i(()=>[t("div",G,[t("div",J,[t("div",K,[t("div",P,[h(I,{to:{name:"finance"}},{default:i(()=>s[6]||(s[6]=[C("Финансы")])),_:1}),s[7]||(s[7]=t("div",null,"/",-1)),s[8]||(s[8]=t("div",null,"История операций",-1))]),t("div",R,[s[9]||(s[9]=t("h1",{class:"v-history-operations__title text-title"},"История операций",-1)),t("nav",X,[t("div",{class:w(["styled-nav",{active:d.value==="income"}]),onClick:s[0]||(s[0]=()=>V("income"))}," Доходы ",2),t("div",{class:w(["styled-nav",{active:d.value==="expenses"}]),onClick:s[1]||(s[1]=()=>V("expenses"))}," Расходы ",2)])]),t("div",Y,[f(t("table",tt,[s[11]||(s[11]=t("thead",{class:"styled-table__head"},[t("tr",null,[t("th",null,[t("div",{class:"styled-table__head-item"},"Имя ученика")]),t("th",null,[t("div",{class:"styled-table__head-item"},"Сумма")]),t("th",null,[t("div",{class:"styled-table__head-item"},"Дата")]),t("th",null,[t("div",{class:"styled-table__head-item"})])])],-1)),t("tbody",st,[(o(!0),u(g,null,B(r.value,e=>(o(),u("tr",{class:"styled-table__body-row",key:e.id},[t("td",null,[t("div",et,c(e.student_name||"Алексей"),1)]),t("td",null,[t("div",ot,[t("div",{class:w(["status",x(z)(parseInt(e.sum))])},c(e.sum)+" ₽ ",3)])]),t("td",null,[t("div",lt,c(x(S)(e.created_at)),1)]),t("td",null,[t("div",at,[t("button",{class:"custom-btn white",onClick:s[2]||(s[2]=()=>_("pkoModal"))},s[10]||(s[10]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M11.6667 1.66675H5.00004C4.55801 1.66675 4.13409 1.84234 3.82153 2.1549C3.50897 2.46746 3.33337 2.89139 3.33337 3.33341V16.6667C3.33337 17.1088 3.50897 17.5327 3.82153 17.8453C4.13409 18.1578 4.55801 18.3334 5.00004 18.3334H15C15.4421 18.3334 15.866 18.1578 16.1786 17.8453C16.4911 17.5327 16.6667 17.1088 16.6667 16.6667V6.66675M11.6667 1.66675L16.6667 6.66675M11.6667 1.66675V6.66675H16.6667M13.3334 10.8334H6.66671M13.3334 14.1667H6.66671M8.33337 7.50008H6.66671",stroke:"#717680","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})],-1),C(" Сформировать ПКО ")])),t("img",{src:E,alt:"",onClick:()=>O(e.id)},null,8,nt)])])]))),128))])],512),[[M,r.value.length]])]),f(t("ul",it,[(o(!0),u(g,null,B(r.value,e=>(o(),u("li",{class:"v-history-operations__lsit-item history-operation",key:e.id},[t("div",dt,[s[12]||(s[12]=t("div",{class:"history-operation__title"},"Алексей Иванов",-1)),t("span",rt,c(x(S)(e.created_at)),1)]),t("div",_t,[t("div",ut,c(e.sum)+" ₽",1),t("div",ct,[t("button",{class:"custom-btn light-blue",onClick:s[3]||(s[3]=()=>_("pkoModal"))},s[13]||(s[13]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M11.6667 1.66675H5.00004C4.55801 1.66675 4.13409 1.84234 3.82153 2.1549C3.50897 2.46746 3.33337 2.89139 3.33337 3.33341V16.6667C3.33337 17.1088 3.50897 17.5327 3.82153 17.8453C4.13409 18.1578 4.55801 18.3334 5.00004 18.3334H15C15.4421 18.3334 15.866 18.1578 16.1786 17.8453C16.4911 17.5327 16.6667 17.1088 16.6667 16.6667V6.66675M11.6667 1.66675L16.6667 6.66675M11.6667 1.66675V6.66675H16.6667M13.3334 10.8334H6.66671M13.3334 14.1667H6.66671M8.33337 7.50008H6.66671",stroke:"#717680","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})],-1),C(" ПКО ")])),t("button",{class:"custom-btn light-red",onClick:()=>O(e.id)},s[14]||(s[14]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M2.5 4.99984H4.16667M4.16667 4.99984H17.5M4.16667 4.99984V16.6665C4.16667 17.1085 4.34226 17.5325 4.65482 17.845C4.96738 18.1576 5.39131 18.3332 5.83333 18.3332H14.1667C14.6087 18.3332 15.0326 18.1576 15.3452 17.845C15.6577 17.5325 15.8333 17.1085 15.8333 16.6665V4.99984H4.16667ZM6.66667 4.99984V3.33317C6.66667 2.89114 6.84226 2.46722 7.15482 2.15466C7.46738 1.8421 7.89131 1.6665 8.33333 1.6665H11.6667C12.1087 1.6665 12.5326 1.8421 12.8452 2.15466C13.1577 2.46722 13.3333 2.89114 13.3333 3.33317V4.99984M8.33333 9.1665V14.1665M11.6667 9.1665V14.1665",stroke:"#717680","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,vt)])])]))),128))],512),[[M,r.value.length]]),f(t("div",pt,s[15]||(s[15]=[t("h1",null,"Нет операций по счёту",-1)]),512),[[M,!r.value.length&&!v.value]])])])])]),_:1}),h(F,{name:"fade"},{default:i(()=>[m.value.deleteOperation?(o(),b(q,{key:0,onDeleteOperation:N,onClose:s[4]||(s[4]=()=>_("deleteOperation"))})):D("",!0)]),_:1}),h(F,{name:"fade"},{default:i(()=>[m.value.pkoModal?(o(),b(Z,{key:0,onClose:s[5]||(s[5]=()=>_("pkoModal"))})):D("",!0)]),_:1})],64)}}};export{ht as default};
