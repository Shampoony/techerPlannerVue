import{r as m,f as a,g as w,w as b,b as e,n as H,a as p,c,h as y,F as D,i as M,t as h,j as g,v as S,o as j,u as E,T as I,k as G,e as N}from"./index-BpaHmFLg.js";import{c as P,d as R,e as $,g as W,_ as q,a as J,b as K,v as Q}from"./v-header-LBqB6X83.js";import{u as X,_ as A,a as Y,b as Z}from"./useIsMobile-CdFjM2o9.js";const ee={class:"modal-add"},te={class:"picker modal-add__picker"},se={key:0,class:"single"},le={key:1,class:"stable"},ae={class:"periodicity"},ne={class:"periodicity__list"},oe=["onClick"],de={class:"periodicity__container"},ie={class:"periodicity__row-title"},re={class:"time"},_e={key:0,class:"time__block modal-row__block"},ce=["onInput","onUpdate:modelValue"],ue=["onInput","onUpdate:modelValue"],ve={class:"modal-row"},me={class:"modal-row"},pe={class:"modal-row__block"},ke=["id","value","checked","onClick"],fe=["for"],be={class:"modal-row"},ye={class:"modal-row__block"},ge=["id","value","checked","onClick"],$e=["for"],we={__name:"v-change-modal",setup(V){const i=m("single"),k=o=>{i.value=o},n=m(null),f=m(null),d=m(""),C=m([{id:1,text:"ПН",active:!1,day_of_week:1},{id:2,text:"ВТ",active:!1,day_of_week:2},{id:3,text:"СР",active:!1,day_of_week:3},{id:4,text:"ЧТ",active:!1,day_of_week:4},{id:5,text:"ПТ",active:!1,day_of_week:5},{id:6,text:"СБ",active:!1,day_of_week:6},{id:7,text:"ВС",active:!1,day_of_week:7}]),x=m([]),u=m({}),L=m({student:{default:"Ученик",options:[{id:1,text:"Артур"}]}});let r=null;const l=(o,s)=>{const t=o==="reminder"?n:f;t.value=t.value===s?null:s},B=o=>{_(o),z(o)},_=o=>{if(o.active){const s=x.value.findIndex(t=>t.id===o.id);s!==-1&&x.value.splice(s,1),o.active=!1,delete u.value[o.id]}else x.value.push(o),x.value.sort((s,t)=>s.id-t.id),o.active=!0,u.value[o.id]={start:"",end:""}},U=o=>{const s=u.value[o].start.split(":"),t=parseInt(s[0])+1,v=s[1],T=`${t}:${v}`;u.value[o].end=T},z=o=>{const s=new Date,t=s.getDay(),v=o.day_of_week-t;v>0?s.setDate(s.getDate()+v+1):s.setDate(s.getDate()+v+8);const T=s.toISOString().split("T")[0];(!r||r<T)&&(d.value=T,r=T)};return(o,s)=>(a(),w($,null,{default:b(()=>[e("div",ee,[s[8]||(s[8]=e("div",{class:"modal-title"},"Добавление занятия",-1)),e("div",te,[e("div",{class:H(["picker__item",{active:i.value=="single"}]),onClick:s[0]||(s[0]=t=>k("single"))}," Разовое занятие ",2),e("div",{class:H(["picker__item",{active:i.value=="stable"}]),onClick:s[1]||(s[1]=t=>k("stable"))}," Постоянные занятия ",2)]),p(P,{options:L.value.student},null,8,["options"]),i.value=="single"?(a(),c("div",se,[p(R)])):y("",!0),i.value=="stable"?(a(),c("div",le,[e("div",ae,[s[3]||(s[3]=e("h2",{class:"periodicity__title title"},"Периодичность",-1)),e("ul",ne,[(a(!0),c(D,null,M(C.value,t=>(a(),c("li",{class:H(["periodicity__list-item",{active:t.active}]),key:t.id,onClick:v=>B(t)},h(t.text),11,oe))),128))]),e("div",de,[(a(!0),c(D,null,M(x.value,t=>(a(),c("div",{class:"periodicity__row",key:t.id},[e("h4",ie,h(t.text),1),e("div",re,[u.value[t.id]?(a(),c("div",_e,[g(e("input",{type:"time",class:"time__picker",placeholder:"Начало",onInput:v=>U(t.id),"onUpdate:modelValue":v=>u.value[t.id].start=v},null,40,ce),[[S,u.value[t.id].start]]),g(e("input",{type:"time",class:"time__picker",placeholder:"Завершение",onInput:v=>U(t.id),"onUpdate:modelValue":v=>u.value[t.id].end=v},null,40,ue),[[S,u.value[t.id].end]])])):y("",!0)])]))),128))])]),e("div",ve,[s[4]||(s[4]=e("div",{class:"modal-row__title"},"Повторять до",-1)),g(e("input",{class:"datepicker",type:"date",placeholder:"Начало","onUpdate:modelValue":s[2]||(s[2]=t=>d.value=t)},null,512),[[S,d.value]])]),e("div",me,[s[5]||(s[5]=e("div",{class:"modal-row__title"},"Напоминание за, минут",-1)),e("div",pe,[(a(),c(D,null,M([5,10,15],t=>e("div",{class:"custom-radio",key:t},[e("input",{id:"reminder-"+t,type:"radio",name:"reminder",value:t,checked:n.value===t,onClick:v=>l("reminder",t)},null,8,ke),e("label",{for:"reminder-"+t},h(t),9,fe)])),64))])]),e("div",be,[s[6]||(s[6]=e("div",{class:"modal-row__title"},"Перерыв после, минут",-1)),e("div",ye,[(a(),c(D,null,M([5,10,15],t=>e("div",{class:"custom-radio",key:t},[e("input",{id:"break-"+t,type:"radio",name:"break",value:t,checked:f.value===t,onClick:v=>l("break_group",t)},null,8,ge),e("label",{for:"break-"+t},h(t),9,$e)])),64))])]),s[7]||(s[7]=e("button",{class:"blue-btn",type:"submit"},"Добавить",-1))])):y("",!0)])]),_:1}))}},he={class:"modal-transfer"},xe={class:"flex gap-4"},Ce={class:"modal-transfer__block"},De={type:"text",class:"styled-input",value:"date",readonly:""},Me={type:"time",class:"styled-input",value:"date",readonly:""},Te={class:"modal-transfer__block"},Ie={type:"text",class:"styled-input",value:"date"},Ve={type:"time",class:"styled-input",value:"date"},Le={__name:"v-transfer-modal",setup(V){const i=m({student:{name:"Елизавета"},date:"24/12/2024"});return(k,n)=>(a(),w($,null,{default:b(()=>[e("div",he,[n[3]||(n[3]=e("h2",{class:"modal-title mb-4"},"Перенос занятия",-1)),g(e("input",{type:"text",class:"styled-input","onUpdate:modelValue":n[0]||(n[0]=f=>i.value.student.name=f),readonly:""},null,512),[[S,i.value.student.name]]),e("div",xe,[e("div",Ce,[n[1]||(n[1]=e("h3",{class:"text-subtitle"},"Перенести с",-1)),g(e("input",De,null,512),[[$,i.value.date]]),g(e("input",Me,null,512),[[$,i.value.date]])]),e("div",Te,[n[2]||(n[2]=e("h3",{class:"text-subtitle"},"на",-1)),g(e("input",Ie,null,512),[[$,i.value.date]]),g(e("input",Ve,null,512),[[$,i.value.date]])])])])]),_:1}))}},Ue={class:"v-buttons-modal"},Se={class:"v-buttons-modal__container"},Be={__name:"v-buttons-modal",emits:["toggleLessonModals"],setup(V,{emit:i}){const k=i,n=f=>{k("toggleLessonModals",f)};return(f,d)=>(a(),w($,{id:"buttons-modal"},{default:b(()=>[e("div",Ue,[d[3]||(d[3]=e("div",{class:"modal-title"},"Занятие",-1)),e("div",Se,[e("div",{class:"v-buttons-modal__button white-btn",onClick:d[0]||(d[0]=C=>n("delete_lesson"))}," Удалить "),e("div",{class:"v-buttons-modal__button blue-btn",onClick:d[1]||(d[1]=C=>n("change_lesson"))}," Редакиировать "),e("div",{class:"v-buttons-modal__button blue-btn",onClick:d[2]||(d[2]=C=>n("transfer_lesson"))}," Перенести ")])])]),_:1}))}},He={__name:"v-delete-lesson-modal",setup(V){return(i,k)=>(a(),w($,{id:"delete-lesson-modal"},{default:b(()=>k[0]||(k[0]=[e("div",{class:"v-delete-lesson-modal"},[e("div",{class:"modal-title"},"Удалить занятие?"),e("div",{class:"v-delete-lesson-modal__container"},[e("div",{class:"v-delete-lesson-modal__button blue-btn"},"Да"),e("div",{class:"v-delete-lesson-modal__button white-btn"},"Нет")])],-1)])),_:1}))}},Ae={class:"wrapper"},Fe={key:0,class:"v-calendar-week"},Oe={class:"v-calendar-week__container container"},ze={class:"v-calendar-week__content scroll-container"},je={class:"v-calendar-week__table calendar"},Ee={class:"calendar-row"},Ge={class:"calendar-row__item"},Ne={class:"calendar-row__item-content calendar-card scroll-container"},Pe=["onClick"],Re={class:"calendar-card__break"},We={key:1,class:"v-calendar-week v-calendar-week-mob mob-page"},qe={class:"v-calendar-week-mob__container container"},Je={class:"v-calendar-week-mob__list"},Ke=["onClick"],Qe={key:0,class:"day__content"},F=90,O=50,Xe=10,tt={__name:"v-calendar-week",setup(V){const{isMobile:i}=X(),k=m(null),n=m({}),f=m([{id:1,time_start:"14:00",time_end:"15:00",student_name:"Даниил",break:"15 минут",duration:1}]),d=m({buttons:!1,delete_lesson:!1,transfer_lesson:!1,change_lesson:!1}),C=r=>{r in n.value?delete n.value[r]:n.value[r]=!0},x=r=>`${F*r<O?O:F*r}px`,u=r=>{d.value[r]=!d.value[r],console.log(r)},L=r=>{u("buttons"),k.value=r};return j(()=>{console.log(W())}),(r,l)=>{const B=N("router-link");return a(),c("div",Ae,[p(q),E(i)?(a(),c("main",We,[e("div",qe,[p(A,{"is-showed-break":!0,type:"week"}),e("ul",Je,[(a(!0),c(D,null,M(f.value,_=>(a(),c("li",{class:"v-calendar-week-mob__list-item day",key:_.id},[e("div",{class:"day__header",onClick:U=>C(_.id)},l[10]||(l[10]=[e("p",{class:"day__date"},"30 декабря",-1),e("img",{src:J,class:"day-el",alt:""},null,-1),e("img",{src:K,class:"night-el",alt:""},null,-1)]),8,Ke),p(I,{name:"fade"},{default:b(()=>[p(B,{to:{name:"calendar-day"}},{default:b(()=>[n.value[_.id]?(a(),c("div",Qe,l[11]||(l[11]=[e("div",{class:"day__lesson"},[e("div",{class:"day__lesson-time"},[e("div",{class:"day__lesson-circle"}),e("p",null,"10:00"),e("p",null,"-"),e("p",null,"11:00")]),e("div",{class:"day__lesson-name"},"Даниил")],-1),e("div",{class:"day__lesson break"},[e("div",{class:"day__lesson-block"},[e("img",{src:Y,class:"day-el",alt:""}),e("img",{src:Z,class:"night-el",alt:""}),e("div",{class:"day__lesson-time"},[e("p",null,"11:00"),e("p",null,"-"),e("p",null,"11:15")])]),e("div",{class:"day__lesson-name"},"Перерыв")],-1)]))):y("",!0)]),_:2},1024)]),_:2},1024)]))),128))])])])):(a(),c("main",Fe,[e("div",Oe,[p(A,{"is-showed-break":!0,type:"week"}),e("div",ze,[e("table",je,[l[9]||(l[9]=e("thead",null,[e("tr",{class:"calendar-header"},[e("th",{class:"calendar-header__item"},"пн, 6"),e("th",{class:"calendar-header__item"},"вт, 7"),e("th",{class:"calendar-header__item"},"ср, 8"),e("th",{class:"calendar-header__item"},"чт, 9"),e("th",{class:"calendar-header__item"},"пт, 10"),e("th",{class:"calendar-header__item"},"сб, 11"),e("th",{class:"calendar-header__item"},"вс, 12")])],-1)),e("tbody",null,[e("tr",Ee,[e("td",Ge,[e("div",Ne,[(a(!0),c(D,null,M(f.value,_=>(a(),c("div",{class:"calendar-card__content",key:_.id,onClick:U=>L(_.id)},[e("div",{class:"calendar-card__lesson",style:G({height:x(_.duration),gap:`${Xe*_.duration}px`})},[e("p",null,h(_.time_start)+" - "+h(_.time_end),1),e("p",null,h(_.student_name),1)],4),e("div",Re,h(_.break),1)],8,Pe))),128))])]),l[3]||(l[3]=e("td",{class:"calendar-row__item"},null,-1)),l[4]||(l[4]=e("td",{class:"calendar-row__item"},null,-1)),l[5]||(l[5]=e("td",{class:"calendar-row__item"},null,-1)),l[6]||(l[6]=e("td",{class:"calendar-row__item"},null,-1)),l[7]||(l[7]=e("td",{class:"calendar-row__item"},null,-1)),l[8]||(l[8]=e("td",{class:"calendar-row__item"},null,-1))])])])])])])),p(Q),p(I,{name:"fade"},{default:b(()=>[d.value.buttons?(a(),w(Be,{key:0,onToggleLessonModals:u,onClose:L})):y("",!0)]),_:1}),p(I,{name:"fade"},{default:b(()=>[d.value.transfer_lesson?(a(),w(Le,{key:0,onClose:l[0]||(l[0]=_=>u("transfer_lesson"))})):y("",!0)]),_:1}),p(I,{name:"fade"},{default:b(()=>[d.value.change_lesson?(a(),w(we,{key:0,onClose:l[1]||(l[1]=_=>u("change_lesson"))})):y("",!0)]),_:1}),p(I,{name:"fade"},{default:b(()=>[d.value.delete_lesson?(a(),w(He,{key:0,onClose:l[2]||(l[2]=_=>u("delete_lesson"))})):y("",!0)]),_:1})])}}};export{tt as default};
